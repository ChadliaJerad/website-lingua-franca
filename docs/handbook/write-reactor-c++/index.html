<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" property="twitter:site" content="thelflang"/><meta data-react-helmet="true" property="og:description" content="Writing Reactors in C++."/><meta data-react-helmet="true" property="og:title" content="Documentation - Writing Reactors in C++"/><meta data-react-helmet="true" name="description" content="Writing Reactors in C++."/><meta name="theme-color" content="#3178C6"/><meta name="generator" content="Gatsby 4.6.0"/><style data-href="/styles.3773846ce74743143013.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}#top-menu{background-color:#013163;clear:both;display:flex;height:4rem;justify-content:space-between;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:101}#top-menu>.left{display:flex;flex-direction:row;padding-bottom:env(safe-area-inset-bottom)}#top-menu>.right{display:flex;flex-direction:row-reverse;justify-self:flex-end}#top-menu .nav{display:inline-block;text-decoration:none}#top-menu ul{margin:0;padding:0}#top-menu #home-page-logo{padding-left:3.5rem;padding-right:4.5rem;padding-top:.5rem;width:135px}@media screen and (-ms-high-contrast:active){#top-menu #home-page-logo svg path{fill:blue}}#top-menu #home-page-logo svg{margin-left:1rem;margin-right:.6rem}#top-menu #home-page-logo span{margin-right:.2rem;position:relative;text-decoration:none;top:-.3rem}#top-menu .nav-item{display:inline-block;font-size:1rem;font-weight:600;text-decoration:none}#top-menu .nav-item a{display:block;padding:1.25rem .5em .5em}#top-menu .nav-item a:hover{opacity:.8}#top-menu .nav-item a.active,#top-menu .nav-item a:focus{text-decoration:underline}#top-menu a{color:#fff;text-decoration:none}#beta-notification-menu,.gatsby-noscript{background-color:#c63131;color:#fff;padding:.4rem 0;text-align:center;-webkit-user-select:none;-ms-user-select:none;user-select:none}#beta-notification-menu a,.gatsby-noscript a{color:#fff}form.search{background-color:#235a97;border-radius:3px 0 0 3px;display:inline-block;height:4rem;padding-left:1rem}form.search svg{margin-right:.3rem;position:relative;top:.3rem}@media screen and (-ms-high-contrast:black-on-white){form.search svg path{fill:#000}}form.search:focus-within{background-color:#358ef1}@media screen and (-ms-high-contrast:black-on-white){form.search:focus-within{border:2px solid #fff}}@media screen and (-ms-high-contrast:white-on-black){form.search:focus-within{border:2px solid #000}}form.search input{-webkit-appearance:none;background-color:#235a97;border:none;border-radius:0;color:#fff;font-size:1rem;font-weight:600;height:4rem;vertical-align:initial!important;width:150px}form.search input:focus-within{background-color:#358ef1}form.search input::-webkit-input-placeholder{color:#fff}form.search input:-ms-input-placeholder{color:#fff}form.search input::placeholder{color:#fff}#like-dislike-subnav,.page-popup{transition:opacity .2s linear}.page-popup{background:#222;border-radius:5px;border-radius:4px;bottom:20px;box-shadow:0 1.6px 3.6px 0 rgba(0,0,0,.432),0 .3px .9px 0 rgba(0,0,0,.408);color:#fff;position:fixed;right:20px;z-index:2}.page-popup p{font-size:14px;padding:0 10px}.page-popup div{display:flex}.page-popup div button{background-color:#235a97;border:none;border-radius:0;color:#fff;flex:1 1;flex-grow:1}.page-popup div button.focus,.page-popup div button:hover{background-color:#104261}.page-popup div button.first{border-right:1px solid #fff}.page-popup svg{fill:#fff}#top-menu nav ul .show-only-medium{display:none}#top-menu nav ul .hide-only-medium{display:inline}#top-menu nav ul .show-only-largest,#top-menu nav ul .show-only-small{display:none}@media(max-width:800px){#top-menu nav ul .show-only-small{display:block!important}#top-menu nav ul .show-small{display:inline!important}#top-menu nav ul .hide-only-medium{display:none}#top-menu nav ul .show-only-large{display:none!important}}@media(min-width:767px)and (max-width:900px){#top-menu nav ul .show-only-medium{display:inline!important}#top-menu nav ul .hide-only-medium{display:none!important}}@media(min-width:900px){#top-menu nav ul .show-only-large{display:inline-block!important}}@media(min-width:1050px){#top-menu nav ul .show-only-largest{display:inline-block!important}}@media(max-width:790px){#site-wrapper{margin-bottom:-1px}#my-lang-quick-jump,.hide-small{display:none!important}#top-menu{bottom:0;display:flex;flex-direction:column-reverse;height:auto;left:0;position:fixed;right:0}#top-menu .nav-item{display:block}#top-menu.up{-webkit-transform:translate(0);transform:translate(0);transition-timing-function:ease;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}#top-menu.down{-webkit-transform:translateY(8.2rem);transform:translateY(8.2rem);transition-timing-function:ease;transition:-webkit-transform .6s;transition:transform .6s;transition:transform .6s,-webkit-transform .6s}}@media(max-width:790px)and (prefers-reduced-motion:reduce){#top-menu.down,#top-menu.up{transition:none}}@media(max-width:790px){#top-menu #home-page-logo{width:auto}#top-menu .below-small nav{flex-grow:1}#top-menu .below-small nav ul{display:flex}#top-menu .below-small nav ul li{flex:1 1;text-align:center}.above-small .search-section{width:100%}.above-small form.search{display:flex;width:calc(100% - 1rem)}.above-small form.search svg{position:relative;top:1rem}.above-small form.search input{width:200%}#top-menu .ds-dropdown-menu{bottom:140%;left:0!important;margin-left:-34px;min-width:0;right:-180px!important;top:auto!important}#top-menu .ds-dropdown-menu:before{bottom:-7px;left:40px;top:auto;-webkit-transform:rotate(135deg);transform:rotate(135deg)}}.skip-to-main{clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.skip-to-main:focus{clip:auto;background-color:#faf9f8;border:1px dashed #000;color:#000;height:auto;overflow:auto;padding:20px;position:absolute;text-align:center;width:100%;z-index:999999}#site-footer{background-color:#3178c6;color:#fff;padding-bottom:3rem;padding-top:1rem}@media(max-width:800px){#site-footer{padding-bottom:9rem}}#site-footer a{color:#fff}#site-footer section{margin:0 auto;max-width:1040px;padding-left:.5rem;padding-right:.5rem;padding-top:1rem}#site-footer h3{font-size:20px;font-style:normal;font-weight:600;margin-top:1px}#site-footer ul{display:flex;flex-wrap:wrap;padding:0}#site-footer ul li{font-weight:600;list-style:none;width:13rem}#site-footer ul li a{font-size:16px}#site-footer ul li p{font-size:14px;margin-top:2px;width:74%}#site-footer ul li span.link-prefix{left:-30px;position:absolute;text-align:right;width:26px}@media(max-width:800px){#site-footer ul li{margin-left:10px}#site-footer ul li p{width:100%}}#site-footer section#customize{border-bottom:1px solid hsla(0,0%,100%,.3);padding-top:2px}#site-footer section#customize article{display:flex;flex-direction:row}#site-footer section#customize article h3{width:240px}@media(max-width:800px){#site-footer section#customize article{flex-direction:column;margin-bottom:1rem}#site-footer section#customize article label{margin-left:8px}}#site-footer section#customize article label{display:flex;flex-direction:row}#site-footer section#customize article label p{margin:6px 8px 0 0;padding:0}#site-footer section#customize .switch-wrap{display:inline-block;height:20px;margin-right:1rem;padding:5px}#site-footer section#customize .switch-wrap select{background-color:#00273f;color:#fff}#site-footer section#community{border-top:1px solid hsla(0,0%,100%,.3);display:flex;padding-top:2rem}@media(max-width:800px){#site-footer section#community{flex-direction:column-reverse}#site-footer section#community article#logos{margin:3rem auto 0;text-align:center}}#site-footer section#community article>ul{display:flex;flex-wrap:wrap}#site-footer section#community article>ul>li{margin-bottom:.8rem;word-break:break-all}@media(min-width:800px){#site-footer section#community article>ul>li{width:50%}}#site-footer section#community #logos{margin-right:40px;width:200px}#site-footer section#community #logos svg{margin-bottom:-.8rem}@media screen and (-ms-high-contrast:black-on-white){#site-footer section#community #logos img{-webkit-filter:invert(100%);filter:invert(100%)}#site-footer section#community #logos svg path{fill:#000}}#site-footer section#community #logos svg.typescript-long{margin-left:8px;position:relative;top:2px}#site-footer section#community #logos img#microsoft-logo{margin-bottom:-.8rem;margin-top:1rem}#site-footer section#community #community-links,#site-footer section#community #using-typescript{flex:1 1}@media(max-width:800px){#community-links ul,#using-typescript ul{margin-left:12px}}.popover-container{position:relative}.popover-container .examples{overflow-y:auto}.popover-container .examples>div.section-content .section-list{width:300px}.popover-container.allow-hover:hover .footer-icon:after{content:"▼"}.popover-container .footer-icon:after{content:"⊙"}@font-face{font-family:Cascadia Mono-SemiLight;font-style:normal;font-weight:400;src:url(/fonts/CascadiaMono-SemiLight.woff2) format("woff2")}@font-face{font-family:Cascadia Code-SemiLight;font-style:normal;font-weight:400;src:url(/fonts/CascadiaCode-SemiLight.woff2) format("woff2")}@font-face{font-family:JetBrains Mono-Regular;font-style:normal;font-weight:400;src:url(/fonts/JetBrainsMono-Regular.woff2) format("woff2")}@font-face{font-family:FiraCode-Regular;font-style:normal;font-weight:400;src:url(/fonts/FiraCode-Regular.woff2) format("woff2")}@font-face{font-family:Dank Mono Regular;font-style:normal;font-weight:400;src:url(/fonts/DankMono-Regular.woff2) format("woff2")}@font-face{font-family:SourceCode Pro Regular;font-style:normal;font-weight:400;src:url(/fonts/SourceCodePro-Regular.woff2) format("woff2")}@font-face{font-family:OpenDyslexicMono Regular;font-style:normal;font-weight:400;src:url(/fonts/OpenDyslexicMono-Regular.woff) format("woff")}@font-face{font-family:OpenDyslexic Regular;font-style:normal;font-weight:400;src:url(/fonts/OpenDyslexic-Regular.woff) format("woff")}@font-face{font-family:Leelawadee UI Web;font-style:normal;font-weight:100;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-light.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-light.woff) format("woff")}@font-face{font-family:Leelawadee UI Web;font-style:normal;font-weight:300;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-semilight.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-semilight.woff) format("woff")}@font-face{font-family:Leelawadee UI Web;font-style:normal;font-weight:400;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-regular.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-regular.woff) format("woff")}@font-face{font-family:Leelawadee UI Web;font-style:normal;font-weight:600;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-semibold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-semibold.woff) format("woff")}@font-face{font-family:Leelawadee UI Web;font-style:normal;font-weight:700;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-bold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-bold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Arabic)";font-style:normal;font-weight:100;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-light.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-light.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Arabic)";font-style:normal;font-weight:300;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-semilight.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-semilight.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Arabic)";font-style:normal;font-weight:400;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-regular.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-regular.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Arabic)";font-style:normal;font-weight:600;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-semibold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-semibold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Arabic)";font-style:normal;font-weight:700;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-bold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-bold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Cyrillic)";font-style:normal;font-weight:100;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-light.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-light.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Cyrillic)";font-style:normal;font-weight:300;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-semilight.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-semilight.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Cyrillic)";font-style:normal;font-weight:400;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-regular.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-regular.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Cyrillic)";font-style:normal;font-weight:600;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-semibold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-semibold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Cyrillic)";font-style:normal;font-weight:700;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-bold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-bold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (East European)";font-style:normal;font-weight:100;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-light.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-light.woff) format("woff")}@font-face{font-family:"Segoe UI Web (East European)";font-style:normal;font-weight:300;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-semilight.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-semilight.woff) format("woff")}@font-face{font-family:"Segoe UI Web (East European)";font-style:normal;font-weight:400;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-regular.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-regular.woff) format("woff")}@font-face{font-family:"Segoe UI Web (East European)";font-style:normal;font-weight:600;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-semibold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-semibold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (East European)";font-style:normal;font-weight:700;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-bold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-bold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Greek)";font-style:normal;font-weight:100;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-light.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-light.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Greek)";font-style:normal;font-weight:300;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-semilight.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-semilight.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Greek)";font-style:normal;font-weight:400;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-regular.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-regular.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Greek)";font-style:normal;font-weight:600;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-semibold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-semibold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Greek)";font-style:normal;font-weight:700;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-bold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-bold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Hebrew)";font-style:normal;font-weight:100;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-light.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-light.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Hebrew)";font-style:normal;font-weight:300;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-semilight.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-semilight.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Hebrew)";font-style:normal;font-weight:400;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-regular.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-regular.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Hebrew)";font-style:normal;font-weight:600;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-semibold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-semibold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Hebrew)";font-style:normal;font-weight:700;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-bold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-bold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Vietnamese)";font-style:normal;font-weight:100;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-light.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-light.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Vietnamese)";font-style:normal;font-weight:300;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-semilight.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-semilight.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Vietnamese)";font-style:normal;font-weight:400;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-regular.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-regular.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Vietnamese)";font-style:normal;font-weight:600;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-semibold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-semibold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (Vietnamese)";font-style:normal;font-weight:700;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-bold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-bold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (West European)";font-style:normal;font-weight:100;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-light.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-light.woff) format("woff")}@font-face{font-family:"Segoe UI Web (West European)";font-style:normal;font-weight:300;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-semilight.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-semilight.woff) format("woff")}@font-face{font-family:"Segoe UI Web (West European)";font-style:normal;font-weight:400;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-regular.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-regular.woff) format("woff")}@font-face{font-family:"Segoe UI Web (West European)";font-style:normal;font-weight:600;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-semibold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-semibold.woff) format("woff")}@font-face{font-family:"Segoe UI Web (West European)";font-style:normal;font-weight:700;src:url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-bold.woff2) format("woff2"),url(https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-bold.woff) format("woff")}body{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}body button,body input,body textarea{font-family:inherit}[lang^=ar] body,body [lang^=ar],body[lang^=ar]{font-family:"Segoe UI Web (Arabic)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=bg] body,body [lang^=bg],body[lang^=bg]{font-family:"Segoe UI Web (Cyrillic)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=cs] body,body [lang^=cs],body[lang^=cs]{font-family:"Segoe UI Web (East European)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=el] body,body [lang^=el],body[lang^=el]{font-family:"Segoe UI Web (Greek)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=et] body,body [lang^=et],body[lang^=et]{font-family:"Segoe UI Web (East European)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=he] body,body [lang^=he],body[lang^=he]{font-family:"Segoe UI Web (Hebrew)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=hi] body,body [lang^=hi],body[lang^=hi]{font-family:Nirmala UI,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=hr] body,[lang^=hu] body,body [lang^=hr],body [lang^=hu],body[lang^=hr],body[lang^=hu]{font-family:"Segoe UI Web (East European)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=ja] body,body [lang^=ja],body[lang^=ja]{font-family:Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,Meiryo,Hiragino Sans,Source Han Sans,Noto Sans CJK JP,sans-serif}[lang^=kk] body,body [lang^=kk],body[lang^=kk]{font-family:"Segoe UI Web (East European)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=ko] body,body [lang^=ko],body[lang^=ko]{font-family:Malgun Gothic,Gulim,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=lo] body,body [lang^=lo],body[lang^=lo]{font-family:Leelawadee UI Web,Lao UI,DokChampa,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=lt] body,[lang^=lv] body,[lang^=pl] body,body [lang^=lt],body [lang^=lv],body [lang^=pl],body[lang^=lt],body[lang^=lv],body[lang^=pl]{font-family:"Segoe UI Web (East European)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=ru] body,body [lang^=ru],body[lang^=ru]{font-family:"Segoe UI Web (Cyrillic)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=sk] body,[lang^=sr-latn] body,body [lang^=sk],body [lang^=sr-latn],body[lang^=sk],body[lang^=sr-latn]{font-family:"Segoe UI Web (East European)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=th] body,body [lang^=th],body[lang^=th]{font-family:Leelawadee UI Web,Kmer UI,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=tr] body,body [lang^=tr],body[lang^=tr]{font-family:"Segoe UI Web (East European)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=uk] body,body [lang^=uk],body[lang^=uk]{font-family:"Segoe UI Web (Cyrillic)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=vi] body,body [lang^=vi],body[lang^=vi]{font-family:"Segoe UI Web (Vietnamese)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=zh-hans] body,body [lang^=zh-hans],body[lang^=zh-hans]{font-family:Microsoft Yahei UI,Verdana,Simsun,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}[lang^=zh-hant] body,body [lang^=zh-hant],body[lang^=zh-hant]{font-family:Microsoft Jhenghei UI,Pmingliu,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}.dark-theme{--background-color:#262626;--text-color:#fff;--border-color:#444;--background-minor-highlight-color:#343434;--inline-code-background-color:rgba(58,58,92,.7);--link-color:#719af4;--pure-background:#000;--raised-background-color:#313131;--alt-text-color:#fff;--raised-box-shadow:0 1.6px 3.6px 0 hsla(0,0%,100%,.132),0 0.3px 0.9px 0 hsla(0,0%,100%,.108);--sidebar-background-color:#2a2a2b;--sidebar-list-active-background-color:#28323a;--sidebar-list-background-color:#353434;--sidebar-link-border-color:#fff;--sidebar-item-border-color:#3e3e3e;--sidebar-active-button-background-color:#4e4e4f;--table-border-color:#545454;--blue-tinged-bg:#2c3841;--blue-tinged-strong:#273f52;--footer-arrow-color:$ts-light-bg-grey-highlight-color;--fade-gradient:linear-gradient(0deg,#313131,rgba(49,49,49,.2))}html,html.light-theme{--background-color:#faf9f8;--pure-background:#fff;--text-color:#333;--border-color:#eee;--background-minor-highlight-color:#fcfcfc;--inline-code-background-color:#f1f1fe;--link-color:#235a97;--raised-background-color:#fff;--alt-text-color:#000;--raised-box-shadow:0 1.6px 3.6px 0 rgba(0,0,0,.132),0 0.3px 0.9px 0 rgba(0,0,0,.108);--sidebar-background-color:#eee;--sidebar-list-active-background-color:#e3e8ec;--sidebar-list-background-color:#e4e4e4;--sidebar-link-border-color:#000;--sidebar-item-border-color:#dfdfdf;--sidebar-active-button-background-color:#dfdfdf;--footer-arrow-color:$ts-dark-bg-for-foreground-color;--table-border-color:#f1f1f1;--blue-tinged-bg:#e6f2fb;--blue-tinged-strong:#cce4f6;--fade-gradient:linear-gradient(0deg,#fff,hsla(0,0%,100%,.2));-webkit-font-smoothing:antialiased;background-color:var(--background-color);color:var(--text-color);font-family:var(--body-font);font-size:16px;line-height:1.4}html{--code-font:"Cascadia Mono-SemiLight",Menlo,Monaco,Consolas,monospace;--body-font:"Segoe UI Web (West European)","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif}html.font-cascadia-ligatures{--code-font:"Cascadia Code-SemiLight",Menlo,Monaco,Consolas,monospace}html.font-consolas{--code-font:Consolas,monospace}html.font-dank-mono{--code-font:"Dank Mono Regular",Menlo,Monaco,Consolas,monospace}html.font-jetbrains-mono{--code-font:"JetBrains Mono-Regular",Menlo,Monaco,Consolas,monospace}html.font-fira-code{--code-font:"FiraCode-Regular",Menlo,Monaco,Consolas,monospace}html.font-sf-mono{--code-font:"SF Mono",Menlo,Monaco,Consolas,monospace}html.font-source-code-pro{--code-font:"SourceCode Pro Regular",Menlo,Monaco,Consolas,monospace}html.font-open-dyslexic{--code-font:"OpenDyslexicMono Regular",Menlo,Monaco,Consolas,monospace;--body-font:"OpenDyslexic Regular","Segoe UI Web (West European)","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif}.raised{background-color:var(--raised-background-color);box-shadow:var(--raised-box-shadow);color:var(--alt-text-color)}.raised a{color:var(--link-color)}.raised h1,.raised h2,.raised h3{line-height:normal;margin-bottom:1.5rem;margin-top:2rem}.raised li,.raised p{line-height:1.4rem}.raised ul{padding-left:10px}.raised ul li{margin-bottom:10px;margin-left:10px}.raised h1>code,.raised h2>code,.raised h3>code{background-color:var(--inline-code-background-color);font-size:.95em;margin-left:.2em;margin-right:.2em;margin-top:.2em;padding:2px 4px}.raised li>code,.raised p>code{background-color:var(--inline-code-background-color);font-family:var(--code-font);font-size:.9rem;padding:2px 4px}.raised td{padding:4px}.dark-theme .raised .markdown .anchor.before svg path{fill:#fff}h2,h3{font-weight:400}.main-content-block{margin:1rem auto;max-width:960px;padding:.4rem 2rem 2rem}.main-content-block.headline{max-width:calc(960px + 4rem)}body{margin:0}#___gatsby,body,html{height:100%}#site-wrapper{display:flex;flex-direction:column}
/*! mscc v0.4.2 - Copyright 2020 Microsoft Corporation */.cc-banner{font-size:12px;position:relative}.cc-banner .hide{display:none}.cc-banner a,.cc-banner div,.cc-banner span,.cc-banner svg{margin:0;padding:0;text-decoration:none}.cc-banner .cc-v-center{display:inline;line-height:2em;vertical-align:middle}.cc-banner[dir=rtl] .cc-float-left,.cc-float-right{float:right}.cc-banner[dir=rtl] .cc-float-right,.cc-float-left{float:left}.cc-banner{background:#f2f2f2;color:#231f20;display:none;font-family:Segoe UI,Helvetica Neue,Helvetica,Arial,sans-serif;margin:0;padding:0 1em;text-align:center}@media(min-width:768px){.cc-banner{font-size:13px;padding:0 1.65em}}.cc-banner>.cc-container{display:inline-block;padding:.75em 0;text-align:left;width:100%}[dir=rtl].cc-banner>.cc-container{text-align:right}@media(min-width:1084px){.cc-banner{padding:0}.cc-banner>.cc-container{max-width:1600px;width:90%}}.cc-banner.active{display:block}.cc-banner .cc-icon{height:1.846em;width:1.846em}.cc-banner .cc-text{margin-left:.5em;margin-right:1.5em}[dir=rtl].cc-banner .cc-text{margin-left:1.5em;margin-right:.5em}.cc-banner .cc-link{color:#0067b8;text-decoration:none}.cc-banner .cc-link:focus,.cc-banner .cc-link:hover{text-decoration:underline}.cc-banner .cc-link:focus{background:content-box rgba(0,120,215,.1);outline:0}@media screen and (-ms-high-contrast:active){.cc-banner{border-bottom:1px solid}}#small-device-button-sidebar{display:none}nav#sidebar{background-color:var(--sidebar-background-color);color:var(--alt-text-color);min-width:16rem}nav#sidebar ul{margin:0;padding:0;position:-webkit-sticky;position:sticky;top:0}nav#sidebar ul li{border-bottom:1px solid var(--sidebar-item-border-color);font-size:1rem;font-weight:400;list-style:none;min-height:2.5rem;padding:0}nav#sidebar ul li button{-webkit-appearance:none;background-color:transparent;border:none;color:var(--alt-text-color);cursor:pointer;display:block;font-size:1rem;font-weight:500;height:2.5rem;padding-left:1rem;position:relative;text-align:left;width:100%}nav#sidebar ul li button .closed path,nav#sidebar ul li button .open path{stroke:var(--text-color)}nav#sidebar ul li button:active,nav#sidebar ul li button:focus{background-color:var(--sidebar-active-button-background-color);color:var(--alt-text-color)}nav#sidebar ul li button span{position:absolute;right:20px}nav#sidebar ul li ul ul{margin-left:.2rem}nav#sidebar ul li.highlighted{background-color:var(--sidebar-list-active-background-color)}nav#sidebar ul li.highlighted svg path{stroke:#3178c6}nav#sidebar ul li.closed span.open,nav#sidebar ul li.closed ul,nav#sidebar ul li.open>button>span.closed{display:none}nav#sidebar ul li.open>ul{background-color:var(--sidebar-list-background-color)}nav#sidebar ul li.open.highlighted ul{background-color:var(--sidebar-list-active-background-color)}nav#sidebar ul li ul{margin:0;padding:0}nav#sidebar ul li ul a{color:var(--alt-text-color);display:block;flex-grow:1;padding-bottom:.5rem;padding-left:1rem;padding-top:.5rem;text-decoration:none}nav#sidebar ul li ul li{list-style:none}nav#sidebar ul li ul li a{font-weight:300;margin-right:-.5rem}nav#sidebar ul li ul li:hover{margin-right:-.3rem;padding-left:.3rem;transition:padding-left .1s ease-out}@media(prefers-reduced-motion:reduce){nav#sidebar ul li ul li:hover{transition:none}}nav#sidebar ul li ul li a:focus,nav#sidebar ul li ul li a:hover{border-left:2px solid var(--sidebar-link-border-color)}nav#sidebar ul li ul li.highlight a{border-left:2px solid #3178c6;color:#3178c6;font-weight:500;margin-left:.5rem;margin-right:-.5rem}@media(min-width:800px){nav#sidebar>ul{max-height:calc(100vh - 10px);overflow-x:hidden;overflow-y:auto}}@media(max-width:800px){button#small-device-button-sidebar{-webkit-appearance:none;background-color:#c4c4c4;border:none;border-radius:6px;bottom:120px;display:flex;left:20px;margin-bottom:env(safe-area-inset-bottom);padding:10px;position:fixed;transition-timing-function:ease;transition:left .3s;z-index:100}}@media(max-width:800px)and (prefers-reduced-motion:reduce){button#small-device-button-sidebar{transition:none}}@media(max-width:800px){button#small-device-button-sidebar.hidden{left:-80px}button#small-device-button-sidebar:active{background-color:#575757}nav#sidebar{-webkit-overflow-scrolling:touch;height:100%;margin-left:-800px;overflow-x:hidden;overflow-y:scroll;position:fixed;transition-timing-function:ease;transition:margin-left .3s;width:90%;z-index:99}nav#sidebar ul{padding-bottom:200px}}@media(max-width:800px)and (prefers-reduced-motion:reduce){nav#sidebar{transition:none}}@media(max-width:800px){nav#sidebar.show{margin-left:0}nav#sidebar>ul>li,nav#sidebar>ul>li>button{font-size:1.3rem}}.community{padding:0}.community.centered{text-align:center}.community.centered h2{margin-top:120px}.community .sidebar{background-color:rgba(204,207,233,.1)}.community .next-steps-container{background-color:#fff}.community .banner-text{margin-top:20px}.community .callouts{display:flex;flex-wrap:wrap;margin:20px 0}.community .callouts .callout{display:flex;line-height:1.4rem;margin-bottom:10px;margin-top:20px;width:48%}@media(max-width:800px){.community .callouts .callout{width:90%}}.community .callouts h3{font-size:1rem;margin:0 0 10px;padding:0}.community .callouts .icon{background-position:50%;background-repeat:no-repeat;background-size:auto 3.2rem;display:block;height:5rem;margin:0 20px 20px;min-width:5rem;transition:background-color .2s ease-out;width:5rem}@media screen and (-ms-high-contrast:active){.community .callouts .icon{-ms-high-contrast-adjust:none}}.community .callouts .icon.high-contrast-only{font-size:1.8rem}.community .callouts .icon.img-circle{border-radius:50%}.community .callouts .icon.publication{background-color:#4d4d4d;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDAiIHZpZXdCb3g9IjAgMCAyNjQuNTgzIDI2NC41ODMiPjxnPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuOTk5MDAwMDciIGQ9Ik0xNjY5Ljc2Ni0xOTAuMDcyYy0zLjQ4MyAwLTYuMzA2IDMuNDU4LTYuMzA2IDcuNzI0czIuNTU2IDcuMTkgNi4zMDYgNy43MjRsNDYuOTA3IDEwLjMwNCA0Mi4xNDUtMjMuNzE4IiB0cmFuc2Zvcm09Im1hdHJpeCgyLjQ4MTk4IDAgMCAyLjQ4MTk4IC00MTE0Ljc0MSA2MzkuODYzKSIvPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuOTk5MDAwMDciIGQ9Ik0xNjY5Ljc2Ni0yMDUuNTJjLTMuNDgzIDAtNi4zMDYgMy40NTgtNi4zMDYgNy43MjRzMi41NTYgNy4xOSA2LjMwNiA3LjcyNGw0Ni45MDcgMTAuMzA0IDQyLjE0NS0yMy43MTgiIHRyYW5zZm9ybT0ibWF0cml4KDIuNDgxOTggMCAwIDIuNDgxOTggLTQxMTQuNzQxIDYzOS44NjMpIi8+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMi45OTkwMDAwNyIgZD0iTTE2NjkuNzY2LTIyMC45NjhjLTMuNDgzIDAtNi4zMDYgMy40NTgtNi4zMDYgNy43MjRzMi41NTYgNy4xOSA2LjMwNiA3LjcyNGwyMi44ODEgNS4wMjZtMTMuNjk0IDMuMDA4IDEwLjMzMiAyLjI3IDQyLjE0NS0yMy43MTgiIHRyYW5zZm9ybT0ibWF0cml4KDIuNDgxOTggMCAwIDIuNDgxOTggLTQxMTQuNzQxIDYzOS44NjMpIi8+PHBhdGggZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMTEuMzM0ODAzNTgiIGQ9Im02NDcwLjIxNS05MjQuNzk3LTE2My41OCA4OS42NDIgMTgxLjU4IDM4Ljk0NCAxNTkuMjg1LTg5LjY0M3oiIHRyYW5zZm9ybT0ibWF0cml4KDIuNDgxOTggMCAwIDIuNDgxOTggLTQxMTQuNzQxIDYzOS44NjMpIHNjYWxlKC4yNjQ1OCkiLz48cGF0aCBmaWxsPSIjZjI5ZDE2IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjExNTM0NzE1IiBkPSJtMTcxNS4xNDQtMjM1LjYwNS0xMC44NjMgNi4xNDggMTcuNDQ1IDMuODMyIDEwLjg2My02LjE0OHoiIHRyYW5zZm9ybT0ibWF0cml4KDIuNDgxOTggMCAwIDIuNDgxOTggLTQxMTQuNzQxIDYzOS44NjMpIi8+PHBhdGggZmlsbD0iI2Y0OWYxNiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTY5Ni4yNjMtMjA4LjQ0OXYxNS42ODZsMy40OTYtMi4xNzMgMy44NzQgNC4yNTJ2LTE2LjUzNnoiIHRyYW5zZm9ybT0ibWF0cml4KDIuNDgxOTggMCAwIDIuNDgxOTggLTQxMTQuNzQxIDYzOS44NjMpIi8+PC9nPjwvc3ZnPg==)}.community .callouts .icon.twitter{background-color:#00a0d1;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTU2IDE3LjRjLTEuOC44LTMuNyAxLjMtNS43IDEuNSAyLTEuMiAzLjYtMy4xIDQuMy01LjMtMS45IDEuMS00IDEuOS02LjMgMi4zLTEuOC0xLjktNC40LTMuMS03LjItMy4xLTUuNCAwLTkuOCA0LjMtOS44IDkuNyAwIC44LjEgMS41LjMgMi4yLTguMi0uNC0xNS40LTQuMy0yMC4zLTEwLjEtLjggMS40LTEuMyAzLjEtMS4zIDQuOSAwIDMuNCAxLjcgNi4zIDQuNCA4LTEuNi0uMS0zLjEtLjUtNC41LTEuMnYuMWMwIDQuNyAzLjQgOC42IDcuOSA5LjUtLjguMi0xLjcuMy0yLjYuMy0uNiAwLTEuMy0uMS0xLjktLjIgMS4zIDMuOCA0LjkgNi42IDkuMiA2LjctMy40IDIuNi03LjYgNC4xLTEyLjIgNC4xLS44IDAtMS42IDAtMi4zLS4xIDQuNCAyLjcgOS41IDQuMyAxNS4xIDQuMyAxOC4xIDAgMjgtMTQuNyAyOC0yNy41di0xLjNjMS45LTEuMiAzLjYtMi45IDQuOS00Ljh6Ii8+PC9zdmc+)}.community .callouts .icon.bug{background-color:#4d4d4d;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII=)}.community .community-callout-headline{margin-top:0}.community h3.centered-highlight{background-color:rgba(204,207,233,.1);padding:20px;text-align:center}.community .upcoming-event{min-width:330px}.community .upcoming-event img{width:50px}.community .upcoming-event .event-info{position:relative}.community .upcoming-event .meetup-text{max-height:300px;overflow-y:auto;padding-bottom:20px}.community .upcoming-event .meetup-gradient{background:var(--raised-background-color);background:var(--fade-gradient);height:30px;position:absolute;top:290px;width:100%}.community .events>h4{padding-left:20px}.row,.split-row{display:flex;flex-direction:row;flex-wrap:wrap}.split-row{align-items:center;justify-content:center}.split-row .first{margin-left:0}.col1{flex:1 1;min-width:250px;padding:1rem}.col2{flex:2 1}.col1.first{margin-left:20px}.col1.last{margin-right:0}@media(max-width:800px){.container>.row{flex-direction:column}}.version-bar{background-color:#262626;color:#fff;margin:0;padding:.7rem 2rem;text-align:center}.version-bar p{margin:0}.version-bar p a{color:#719af4}.grey-box{background-color:#d8d8d8;box-sizing:border-box;margin-right:20px;padding:18px}.grey-box a{color:#000}.clicky-grey-button.first,.grey-box.first{margin-left:20px}.clicky-grey-button.last,.grey-box.last{margin-right:0}.split-row>.clicky-grey-button{flex:1 1}@media(max-width:800px){main #index-2 h2{font-size:1.8rem;padding-left:20px;padding-right:20px}main #index-2 div.headline-diagram{height:400px;max-width:100%;overflow-x:hidden}main #index-2 .split-row>a{margin-left:20px!important;min-width:80%}main #index-2 .grey-box{margin-right:0}main #index-2 .illustration{display:none}main #index-2 ul.dropdown{margin-top:12px}main #index-2 .headline-diagram div.editor.front{margin:20px auto;position:static}main #index-2 .headline-diagram .text{overflow-x:scroll}main #index-2 #m-stories div.copy{margin:20px auto 0;position:static;text-align:center}main #index-2 #m-stories div.copy a.migration-button{margin:0 auto}main #index-2 .small_full_width{width:100%}main #index-2 .github-bar{display:none}main #index-2 .get-started-section{flex-direction:column}main #index-2 .get-started-section a.get-started{background-image:none!important;height:auto!important;margin:0 auto}main #index-2 img{max-width:100%}main #index-2 h3{text-align:center}}@media(max-width:900px){.tag-container .twoslash-annotation.left{bottom:0;left:0;position:static;top:auto!important}.tag-container .twoslash-annotation.left svg{-webkit-transform:rotate(44deg) scaleX(-1) translateX(-20px)!important;transform:rotate(44deg) scaleX(-1) translateX(-20px)!important}.tag-container .twoslash-annotation.right{display:none}}.show-only-small{display:none}@media(max-width:480px){.show-only-small{display:block!important}#index div.headline-diagram div.editor.front{max-width:300px}}#index-2 h1{font-size:2.5rem;font-weight:200;line-height:2.8rem;margin-top:0;padding-right:40px}#index-2 h1 strong{font-weight:600}#index-2 h2{font-size:2.5rem;font-weight:500;line-height:2.5rem;margin-top:0;text-align:center}#index-2 h3{font-size:1.6rem;font-weight:400;line-height:1.6rem;margin-bottom:2.5rem;margin-top:0}#index-2 p{font-size:1.2rem}#index-2 .col1{min-width:230px}@media(max-width:360px){#index-2 .col1{max-width:calc(100% - 2rem)}}#index-2 .darkblue{background-color:#00273f;color:#fff}#index-2 .blue{background-color:#3178c6;color:#fff}#index-2 .purple{background-color:#4e086f;color:#fff}#index-2 .dark-green{background-color:#086e12;color:#fff}#index-2 .white{background-color:#fff;color:#000}#index-2 .white .col1 h3{text-align:center}#index-2 .white .col1>p,#index-2 .white .col2>p{font-size:1.2rem}#index-2 .light-grey{background-color:#faf9f8;color:#000}#index-2 .grey{background-color:#d8d8d8;padding-bottom:0}#index-2 .grey div.container{padding:1rem}#index-2 .headline{min-height:420px}#index-2 .headline .col1{padding-bottom:3rem}#index-2 .headline p{padding-right:20px}#index-2 .headline .container{font-size:1rem;padding-bottom:0}#index-2 .container{max-width:1080px;padding-bottom:40px;padding-top:64px}#index-2 .container,#index-2 .container .half{display:flex;flex-direction:column;margin:0 auto;position:relative}#index-2 .container .half{max-width:780px}@media(max-width:360px){#index-2 .container .half{max-width:100%}}#index-2 .headline-diagram{display:relative}@media screen and (-ms-high-contrast:active){#index-2 .headline-diagram{border:2px solid #fff}}#index-2 .headline-diagram pre .code-container{overflow:hidden}#index-2 .headline-diagram pre .code-container a{display:none}#index-2 .headline-diagram .editor{border:2px solid #7fa2c9;border-radius:4px;width:540px}#index-2 .headline-diagram .editor ul.editor-tabs{display:flex;flex-direction:row;font-size:14px;margin:0;padding:0}#index-2 .headline-diagram .editor ul.editor-tabs li{list-style:none;padding:10px}#index-2 .headline-diagram .editor ul.editor-tabs li a{color:#fff;text-decoration:none}#index-2 .headline-diagram .editor ul.editor-tabs li.selected{text-decoration:underline}#index-2 .headline-diagram .editor .min-dark{display:none}#index-2 .headline-diagram .editor.front{border-radius:8px;width:96%}@media screen and (-ms-high-contrast:active){#index-2 .headline-diagram .editor.front{border:none}}#index-2 .headline-diagram .editor .error{border-left:0!important}#index-2 .headline-diagram .editor .editor-inner{position:relative}#index-2 .headline-diagram .editor .titlebar{border-bottom:2px solid #172e38;display:flex;flex-direction:row;height:2rem}#index-2 .headline-diagram .editor .titlebar .lang{display:none;margin-left:6px;margin-top:3px}#index-2 .headline-diagram .editor .titlebar .window-name{display:none;margin-left:10px;padding-top:5px}#index-2 .headline-diagram .editor .line-error{background-color:#c63131;height:20px;left:0;position:absolute;width:22px}#index-2 .headline-diagram .editor .underline-error{background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='6' height='3' viewBox='0 0 6 3'%3E%3Cg fill='%23c94824'%3E%3Cpolygon points='5.5 0 2.5 3 1.1 3 4.1 0'/%3E%3Cpolygon points='4 0 6 2 6 .6 5.4 0'/%3E%3Cpolygon points='0 2 1 3 2.4 3 0 .6'/%3E%3C/g%3E%3C/svg%3E") repeat-x 0 100%;padding-bottom:3px}#index-2 .headline-diagram .editor .error-message{color:#444d80;font-family:var(--code-font);font-size:.8rem}#index-2 .headline-diagram .editor .error-behind{opacity:0}#index-2 .headline-diagram .editor .inline-completions{position:relative}#index-2 .headline-diagram .editor .inline-completions ul.dropdown{background-color:#fff;border-left:4px solid #4b9edd;color:gray;display:inline-block;font-family:var(--code-font);font-size:.8rem;margin:0;padding:0;position:absolute;width:240px}#index-2 .headline-diagram .editor .inline-completions ul.dropdown:before{background-color:#fff;content:" ";left:-3px;position:absolute;top:-16px;width:2px}#index-2 .headline-diagram .editor .inline-completions ul.dropdown li{border-bottom:1px solid #000;height:1rem;overflow-x:hidden;padding-left:4px}#index-2 .headline-diagram .editor .inline-completions ul.dropdown li span.result-found{color:#4b9edd}#index-2 .headline-diagram .editor .inline-completions ul.dropdown li span.result{color:#000;display:inline-block;width:100px}#index-2 .headline-diagram .editor .did-you-mean,#index-2 .headline-diagram .editor .did-you-mean-icon{position:absolute}#index-2 .headline-diagram .editor .content{display:flex;flex-direction:row}#index-2 .headline-diagram .editor .content svg{margin:12px auto}#index-2 .headline-diagram .editor .content svg path{fill:#fff}#index-2 .headline-diagram .editor .content .text{background-color:#235a97;border-top:1px solid #7fa2c9;flex-grow:1;flex-shrink:1;font-family:var(--code-font);font-size:.8rem;height:260px;line-height:.95rem;overflow-x:auto;position:relative}#index-2 .headline-diagram .editor .content .text pre{background-color:#235a97;border:none;margin:0}#index-2 .headline-diagram .editor .content .text pre code{font-size:14px;line-height:16px}#index-2 .headline-diagram .editor .content .text pre .error{background-color:#ff000026;color:#ffc5c5}#index-2 .headline-diagram .editor .content .text .language-id{display:none}#index-2 .headline-diagram .editor .highlight{color:#9ed5ff}#index-2 .headline-diagram .back .content .text>div{padding-right:200px}#index-2 .next-headline-button{align-items:center;background-color:#fff;bottom:20px;color:#000;cursor:pointer;display:flex;flex-direction:row;height:30px;justify-content:center;margin-bottom:20px;padding:3px;position:absolute;right:15px;text-decoration:none;width:30px}@media screen and (-ms-high-contrast:active){#index-2 .next-headline-button{border:2px solid gray}}#index-2 .next-headline-button.focus,#index-2 .next-headline-button:hover{background-color:#eee}#index-2 .next-headline-button:active{background-color:#ddd}#index-2 .next-headline-button .fluid-button-title{font-weight:600}#index-2 .next-headline-button svg path{fill:#000}@media screen and (-ms-high-contrast:active){#index-2 .next-headline-button svg path{fill:#ff0}}#index-2 a.get-started{align-items:flex-end;background-color:#fff;box-shadow:0 4px 20px -6px rgba(0,0,0,.25);box-sizing:border-box;color:#000;cursor:pointer;display:flex;margin:0 auto;max-width:244px;padding:1rem;text-decoration:none;width:100%}@media screen and (-ms-high-contrast:active){#index-2 a.get-started{border:2px solid gray}}#index-2 a.get-started.focus,#index-2 a.get-started:hover{background-color:#eee}#index-2 a.get-started:active{background-color:#ddd}#index-2 a.get-started .fluid-button-title{font-weight:600}#index-2 a.get-started.short{background:#3178c6;background-position-y:bottom -180px;border:1px solid #fff;color:#fff;height:260px}#index-2 a.get-started.short.handbook{background-image:url(/images/index/get-started-handbook-blue.svg)}#index-2 a.get-started.short.download{background-image:url(/images/index/get-started-download-blue.svg);background-position:100% 100%;background-repeat:no-repeat}#index-2 a.get-started.short svg path{stroke:#fff}#index-2 a.get-started.short:active{background-color:#156fb4}#index-2 a.get-started.short:hover{border-width:2px;box-shadow:0 4px 20px -2px rgba(0,0,0,.25);max-width:246px}#index-2 a.get-started.tall{background:#fff;border:1px solid #000;color:#000;height:342px;margin-bottom:2px}#index-2 a.get-started.tall:hover{border-color:#3178c6;border-width:2px;box-shadow:0 4px 20px -2px rgba(0,0,0,.25);height:344px;margin-bottom:0;max-width:246px}#index-2 a.get-started.tall:active{background-color:#eee}#index-2 a.get-started .fluid-button-title{font-size:1.4rem}#index-2 a.get-started svg{margin-bottom:10px;margin-left:20px}#index-2 a.get-started:active{box-shadow:0 4px 10px 0 rgba(0,0,0,.25);margin-top:1px}#index-2 a.get-started.handbook{background-image:url(/images/index/get-started-handbook.svg);background-position:0 100%;background-repeat:no-repeat}#index-2 a.get-started.download{background-image:url(/images/index/get-started-download.svg);background-position:100% 100%;background-repeat:no-repeat}#index-2 .call-to-action{display:flex;justify-content:center}#index-2 .call-to-action a.flat-button{background-color:#fff;color:#000;cursor:pointer;display:block;font-size:1.2rem;height:1.4rem;line-height:1.4rem;padding:1rem;text-align:center;text-decoration:none}@media screen and (-ms-high-contrast:active){#index-2 .call-to-action a.flat-button{border:2px solid gray}}#index-2 .call-to-action a.flat-button.focus,#index-2 .call-to-action a.flat-button:hover{background-color:#eee}#index-2 .call-to-action a.flat-button:active{background-color:#ddd}#index-2 .call-to-action a.flat-button .fluid-button-title{font-weight:600}#index-2 .call-to-action a.flat-button:first-child{margin-right:2rem}#index-2 .call-to-action .handbook-preview{background-color:#1a1a1a;padding:4rem}#index-2 .call-to-action .inline-buttons{background-color:#1a1a1a;display:flex;justify-content:center}#index-2 .call-to-action .inline-buttons a{background-color:#1a1a1a;border-left:4px solid #00273f;color:#fff;flex:1 1;margin:0!important}#index-2 .call-to-action .inline-buttons a:first-child{border-left:none}#index-2 .call-to-action .inline-buttons a:active,#index-2 .call-to-action .inline-buttons a:hover{color:#000}#index-2 .cta-redirects{overflow-y:hidden}#index-2 .cta-redirects>div{margin-bottom:-18%;position:relative}#index-2 .cta-redirects>div a{bottom:55%;position:absolute}#index-2 .release-info{display:flex;flex-direction:row;position:relative;width:100%}#index-2 .release-info .needle,#index-2 .release-info .needle-head{background-color:#000;height:68px;margin-top:-8px;position:absolute;width:2px}#index-2 .release-info .needle-head{background-color:transparent;border-left:4px solid transparent;border-right:4px solid transparent;border-top:6px solid #000;height:0;margin-left:-4px;margin-top:-14px}#index-2 .release-info>div>div{display:flex;flex-direction:row}#index-2 .bar{height:50px;margin-left:-1px;width:100%}#index-2 .separator{background-color:#000;height:12px;margin-top:50px;width:1px}@media screen and (-ms-high-contrast:active){#index-2 .needle-head{opacity:0}#index-2 .release-info .needle{border:1px solid #000;height:80px}#index-2 .beta>div,#index-2 .rc>div,#index-2 .release>div,#index-2 form.search:focus{border:1px solid #000}}#index-2 .release{width:55%}#index-2 .release .bar{background-color:#c4c4c4}#index-2 .beta{width:28%}#index-2 .beta .bar{background-color:#3178c6}#index-2 .rc{width:17%}#index-2 .rc .bar{background-color:#235a97}#index-2 .migrations{overflow:hidden}#index-2 .migrations.github #migration_title{color:#fff}#index-2 .migrations strong{color:#187abf}#index-2 .migrations .container{padding-bottom:0}#index-2 #m-stories{min-height:370px;position:relative}#index-2 #m-stories .controls a{align-items:center;background-color:#c4c4c4;color:#000;display:flex;height:2rem;justify-content:center;line-height:2.5rem;position:absolute;text-align:center;top:70%;width:2rem;z-index:2}#index-2 #m-stories .controls a:hover{background-color:#eee}#index-2 #m-stories .controls a:active{background-color:#ddd;top:calc(70% + 1px)}#index-2 #m-stories .controls a.left{left:0}#index-2 #m-stories .controls a.right{right:0}#index-2 #m-stories .copy{background:#faf9f8;background:linear-gradient(90deg,#faf9f8 48%,#faf9f820)}#index-2 #m-stories .copy p{font-size:1rem}#index-2 #m-stories .airbnb .fg,#index-2 #m-stories .goog .illustration .fg{padding-top:40px}#index-2 #m-stories .copy{padding-left:20px;padding-right:30px;position:absolute;transition:opacity .2s ease-out;width:260px}#index-2 #m-stories .copy p{padding:1rem 0}#index-2 #m-stories .copy a.migration-button{border:1px solid #000;color:#000;display:block;padding:8px 0;text-align:center;text-decoration:none;width:60%}#index-2 #m-stories .copy a.migration-button:focus,#index-2 #m-stories .copy a.migration-button:hover{background-color:#fff;color:#000}#index-2 #m-stories .illustration .bg{position:absolute;right:20px}#index-2 #m-stories .illustration .fg{font-size:1.4rem;line-height:1.6rem;position:absolute;right:70px;width:370px}#index-2 .oss{width:100%}#index-2 .oss .icons{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-around;margin:0 auto;max-width:800px}@media screen and (-ms-high-contrast:black-on-white){#index-2 .oss .icons svg path{fill:#000}}@media screen and (-ms-high-contrast:white-on-black){#index-2 .oss .icons svg path{fill:#fff}}#index-2 .oss .icons svg{margin:0 auto}#index-2 .oss .icons a{color:#fff;display:flex;flex:1 1;flex-direction:column;height:145px;justify-content:space-between;margin:20px;max-width:140px;text-align:center;width:140px}#index-2 .oss .icons a p{padding-bottom:0}#index-2 .github-bar{opacity:0;position:absolute;transition:opacity .3s ease-out}#index-2 .github-bar.left{left:-200px}#index-2 .github-bar.right{right:-200px}#index-2 ul#videos{margin:0;padding:0}#index-2 ul#videos li{border-left:2px solid transparent;list-style:none;margin:0;padding:0}#index-2 ul#videos li.active{border-color:#000}#index-2 ul#videos li a{color:#000;display:block;font-size:1rem;margin-left:6px;text-decoration:none}#index-2 ul#videos li span{font-size:.8rem;font-style:italic}#index-2 .installation-panel .flat-button{background-color:#fff;color:#000;cursor:pointer;display:block;margin-top:20px;padding:1rem;text-decoration:none}@media screen and (-ms-high-contrast:active){#index-2 .installation-panel .flat-button{border:2px solid gray}}#index-2 .installation-panel .flat-button.focus,#index-2 .installation-panel .flat-button:hover{background-color:#eee}#index-2 .installation-panel .flat-button:active{background-color:#ddd}#index-2 .installation-panel .flat-button .fluid-button-title{font-weight:600}#index-2 .installation-panel .flat-button button{background-color:transparent;border:none;float:right}#index-2 .installation-panel .flat-button svg{float:right;height:.9em;margin-top:3px;opacity:.5;transition:opacity .2s linear;width:.9em}#index-2 .installation-panel .flat-button:hover svg{opacity:1}#index-2 .installation-panel .tooltip{background-color:#3f3f3f;border-radius:2px;color:#fff;display:none;font-family:var(--code-font);font-size:14px;padding:5px 8px;pointer-events:none;text-align:center;white-space:pre-wrap;z-index:100}#index-2 #adopt-gradually-content.fancy-scroll{height:1400px}#index-2 #adopt-gradually-content.fancy-scroll #adopt-step-slider{height:580px;position:-webkit-sticky;position:sticky;top:80px}#index-2 #adopt-gradually-content.fancy-scroll #adopt-step-blurb,#index-2 #adopt-gradually-content.fancy-scroll #global-stepper{bottom:64px;left:0;margin:0 auto;max-width:480px;position:absolute;right:0}#index-2 #adopt-gradually-content.fancy-scroll #global-stepper{bottom:32px;display:flex}#index-2 #adopt-gradually-content.fancy-scroll #global-stepper>div{opacity:.2;transition:opacity .2s}#index-2 #adopt-gradually-content.fancy-scroll #global-stepper>div.active{opacity:1}#index-2 #adopt-gradually-content.fancy-scroll .adopt-step{left:0;margin-left:auto;margin-right:auto;padding-top:200px;position:absolute;right:0;top:0;transition:opacity .2s}#index-2 #adopt-gradually-content.fancy-scroll .adopt-step .adopt-step-stepper,#index-2 #adopt-gradually-content.fancy-scroll .adopt-step>div>p,#index-2 #global-stepper{display:none}#index-2 .adopt-step{margin:20px auto;max-width:480px;padding-top:120px}#index-2 .adopt-step pre{margin-bottom:10px}#index-2 .adopt-step>p{font-size:1rem;font-weight:700;margin:10px 0}#index-2 .adopt-step .tag-container p{font-size:1rem}#index-2 .adopt-step-stepper{display:flex;margin-bottom:80px}#index-2 .adopt-step-stepper div{border:1px solid #000;display:inline-block;flex:1 1;height:13px;margin-left:10px;position:relative}#index-2 .adopt-step-stepper div.yellow,#index-2 .adopt-step-stepper div.yellow-hint-blue,#index-2 .adopt-step-stepper div.yellow-lot-blue{background-color:#ffe200}#index-2 .adopt-step-stepper div.yellow-hint-blue:after,#index-2 .adopt-step-stepper div.yellow-lot-blue:after{background-color:#3178c6;content:"";height:13px;left:0;position:absolute;width:20%}#index-2 .adopt-step-stepper div.yellow-lot-blue:after{width:60%}#index-2 .adopt-step-stepper div.first{margin-left:0}#index-2 .via-delete .highlight{background-color:#fffdfd}#index-2 .via-delete .dim{opacity:1}.yellow{background-color:#f1dd3f;color:#000;margin-bottom:-110px}.yellow .col1{align-self:stretch;width:50%}.yellow .col1 pre{height:220px;overflow:hidden}.yellow .col1 pre code{font-size:14px;line-height:16px}.yellow a{color:#000}.darkblue.dt{position:relative}.darkblue.dt .dark-blue-trans-bg{background-color:rgba(0,39,62,.77)}.darkblue.dt .dark-blue-trans-bg a{color:#fff}.darkblue.dt .dt-background{bottom:20px;font-family:var(--code-font);font-size:1.2rem;left:20px;opacity:.2;overflow:hidden;position:absolute;top:20px;width:80%}.flex-column{flex-direction:column}.fluid-button{background-color:#fff;color:#000;display:flex;padding:.5rem 1rem;text-decoration:none}.fluid-button .fluid-button-title{font-weight:600}.fluid-button div.fluid-button-icon{align-items:center;border-left:2px solid #000;display:flex;justify-content:center;margin-left:1rem;margin-right:-1rem;min-width:4rem;text-align:center}.fluid-button.focus,.fluid-button:hover{background-color:#eee}.fluid-button:active{background-color:#ddd}.cta .cta-back a{left:20px;position:relative;top:20px;width:60px}.transparent-button{border:1px solid #fff;color:#fff;cursor:pointer;left:20px;padding:10px;position:absolute;text-decoration:none;top:40px;width:80px}.transparent-button svg{margin-right:8px}.transparent-button.focus,.transparent-button:hover{background-color:#ffffff10}.transparent-button:active{background-color:#ffffff20;border:1px solid #ffffff60}.flow-links{display:flex;flex-wrap:wrap}.clicky-grey-button{background-color:#d8d8d8;color:#000;display:flex;flex-direction:column-reverse;height:10rem;margin-bottom:20px;margin-right:20px;padding:18px;position:relative;text-decoration:none;width:16rem}.clicky-grey-button.white-theme{background-color:#fff;border:1px solid #000}.clicky-grey-button.white-theme:hover{background-color:#eee}.clicky-grey-button.white-theme:active{background-color:#f2f2f2;margin-bottom:19px}@media screen and (-ms-high-contrast:active){.clicky-grey-button{border:1px solid gray}}.clicky-grey-button.headline{height:200px;width:300px}.clicky-grey-button.links{height:26rem}.clicky-grey-button.focus,.clicky-grey-button:hover{background-color:#ccc}.clicky-grey-button:active{background-color:#ddd}.clicky-grey-button p{color:#000}.clicky-grey-button div{color:#000;font-size:1.6rem;font-weight:400;line-height:1.6rem;margin-bottom:.2rem;text-decoration:none}.clicky-grey-button div:hover{text-decoration:none}.clicky-grey-button p{margin-bottom:0;margin-top:0}.clicky-grey-button a{text-decoration:none}.clicky-grey-button .badge{background-color:#666;position:absolute;right:10px;top:10px}.columns{display:flex;flex-direction:row;flex-wrap:wrap;margin:0 -2.6rem}.columns.wide{justify-content:space-between}.columns.wide .item{min-width:240px}.columns .item{flex:1 1;margin:.6rem;padding:1rem}.columns .item h4{margin-top:0}.columns .item ul{padding:0}.columns .item ul ul{margin-left:.5rem}.columns .item li{list-style:none;margin-left:0}@media(max-width:800px){.columns{flex-direction:column;margin:0}}div#like-dislike-subnav div{font-size:14px;padding-left:4px;padding-top:16px}div#like-dislike-subnav div button{align-items:center;background:none;border:none;color:var(--text-color);display:inline-flex;flex-direction:row}div#like-dislike-subnav div button svg{fill:var(--text-color);color:var(--text-color);margin-right:4px}#beta{background:repeating-linear-gradient(45deg,#9b9a4e,#9b9a4e 10px,#6e6a33 0,#6e6a33 20px);background-color:"#c63131";color:#fff;padding:4px 4px 6px;text-align:center;text-shadow:0 2px 4px #000}#doc-layout{display:flex;flex-direction:row}#handbook-content{margin:auto;max-width:1200px;min-width:0;padding:0 2rem}@media(max-width:480px){#handbook-content{padding:0}}#handbook-content>h2{font-size:3.5rem;font-weight:400;letter-spacing:0;line-height:3.5rem}@media(max-width:800px){#handbook-content>h2{font-size:2.5rem;margin-left:1rem;margin-right:1rem}}#handbook-content article{display:flex;width:100%}#handbook-content .whitespace,#handbook-content .whitespace-tight{margin:0 auto 1rem;overflow:hidden;padding:2rem}#handbook-content .whitespace-tight{padding:1.2rem 2rem}#handbook-content aside{display:none;flex-shrink:0;margin-left:20px;width:13rem}@media(min-width:1000px){#handbook-content aside{display:block}}#handbook-content aside nav{margin-bottom:1rem;position:-webkit-sticky;position:sticky;top:30px}#handbook-content aside nav.deprecated{top:7rem}#handbook-content aside h5{font-size:16px;font-weight:600;margin:0}#handbook-content aside ul{padding:0}#handbook-content aside ul li{list-style:none}#handbook-content aside ul a{border-left:2px solid transparent;color:var(--alt-text-color);display:block;font-size:14px;font-weight:400;overflow:hidden;padding-left:8px;text-decoration:none;text-overflow:ellipsis;white-space:nowrap}#handbook-content aside ul a:active,#handbook-content aside ul a:hover{border-left:2px solid rgba(0,120,212,.3)}#handbook-content aside ul a.current{border-left:2px solid #0078d4}#handbook-content aside .like-dislike-subnav #dislike-button,#handbook-content aside .like-dislike-subnav #like-button{cursor:pointer}#handbook-content .preamble a{color:var(--text-color)}#handbook-content .justify-between{justify-content:space-between}#handbook-content a.navigation-link{flex:1 1;text-decoration:none}#handbook-content .prev-next{flex:1 1}#handbook-content .prev-next .arrow{align-items:center;display:flex;flex-direction:row;justify-content:center;margin-right:20px}#handbook-content .prev-next h3,#handbook-content .prev-next header,#handbook-content .prev-next p{margin:0;padding:0}#handbook-content .prev-next header{font-size:.8rem;margin-bottom:.5rem}#handbook-content .prev-next p{margin-bottom:.4rem}#handbook-content .prev-next header,#handbook-content .prev-next p{color:var(--text-color)}#handbook-content .prev-next:hover h3,#handbook-content .prev-next:hover svg path{fill:var(--text-color);color:var(--text-color)}#handbook-content .prev-next .nav-content{flex:1 1;padding-right:1rem}#handbook-content .prev-next.next{flex-direction:row-reverse;padding-left:1rem;padding-right:0;text-align:right}#handbook-content .prev-next.next .arrow{margin-left:20px;margin-right:0}#handbook-content .prev-next.next svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}#handbook-content .vertical-line{background-color:#e3e3e3;flex-basis:2px;flex-grow:0;flex-shrink:0;height:80px;min-width:2px}#handbook-content .docs-footer{border-top:1px solid var(--border-color);display:flex;flex-direction:row-reverse;height:2rem;margin:0 -2rem;padding:0}#handbook-content .docs-footer h5{font-weight:400;margin:0;padding:.5rem 1rem 0 0}#handbook-content .docs-footer button{align-items:center;background:none;border:none;border-left:1px solid var(--border-color);color:var(--text-color);cursor:pointer;display:inline-flex;flex-direction:row;padding:0 1rem}#handbook-content .docs-footer button:hover{background-color:var(--border-color)}#handbook-content .docs-footer button svg{fill:var(--text-color);color:var(--text-color);margin-right:4px}#handbook-content #deprecated-header{align-items:center;background-color:#fff4cf;color:#000;display:flex;justify-content:space-between;margin:0 -2rem;padding:1rem 2rem 1rem 0;position:-webkit-sticky;position:sticky;top:0;z-index:1}#handbook-content #deprecated-header [id]:before{height:110px;margin-top:-110px}@media(max-width:800px){#handbook-content #deprecated-header{flex-direction:column;margin:0;padding:1rem}#handbook-content #deprecated-header h3{font-size:.8rem}#handbook-content #deprecated-header #deprecated-icon{margin-right:1rem}#handbook-content #deprecated-header #deprecated-action{margin-top:1rem}}#handbook-content #deprecated-header #deprecated-content{align-items:center;display:flex}#handbook-content #deprecated-header #deprecated-content #deprecated-icon{text-align:center;width:2rem}#handbook-content #deprecated-header h3{font-size:1.5rem;font-weight:400;margin-bottom:.5rem;margin-top:0}#handbook-content #deprecated-header p{margin-bottom:.2rem;margin-top:0}#handbook-content #deprecated-header #deprecated-action{flex-shrink:0}#handbook-content #deprecated-header #deprecated-action a{background-color:#fff;border:1px solid #000;color:#000;padding:.2rem .5rem;text-decoration:none}#handbook-content #deprecated-header #deprecated-action a:hover{background-color:#eee}#handbook-content .markdown table.cli-option{display:table}#handbook-content .markdown table.cli-option tr{width:100%}#handbook-content .markdown table.cli-option tr p{margin:0;padding:0}#handbook-content .markdown table.cli-option tr code{word-wrap:normal}#handbook-content .markdown table.cli-option tr.odd{background-color:var(--background-color)!important}#handbook-content .markdown table.cli-option tr.even{background-color:var(--background-minor-highlight-color)!important}#handbook-content .markdown table.cli-option ul{margin:0;padding:0}#handbook-content .markdown table.cli-option ul li{list-style:none;margin:0 0 8px}#handbook-content .markdown table.cli-option tr.option-description td{border-top:none;margin-top:0}.circle-bg{background-color:#719af4;color:#000;display:inline-block;line-height:31px;margin-right:3px;margin-top:12px;position:relative;text-align:center}.circle-bg,.circle-bg img{border-radius:16px;height:32px;width:32px}.circle-bg img{left:0;position:absolute;top:0}.bottom-section-content{flex:1 1;padding:1rem 2rem}@media(max-width:480px){.small-columns{flex-direction:column!important}}.inline-popup{background:var(--background-color);border-radius:2px;box-shadow:0 30px 90px -20px rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);font-size:14px;line-height:20px;max-width:400px;min-width:300px;padding:0;position:absolute;transition:opacity .5s;z-index:110}.inline-popup .inline-popup-container{display:flex}.inline-popup .inline-popup-container a.inline-popup-extract{color:var(--text-color);display:block;margin:16px;max-height:140px;overflow:hidden;position:relative;text-decoration:none}.inline-popup .inline-popup-container a.inline-popup-extract h5{margin-top:0}.inline-popup .inline-popup-container a.inline-popup-extract:after{background-color:transparent;bottom:0;content:" ";height:20px;pointer-events:none;position:absolute;width:25%}.inline-popup .inline-popup-container a.inline-popup-extract div{margin:0}.inline-popup .inline-popup-container a.inline-popup-extract div code{background-color:var(--inline-code-background-color);border-radius:2px;padding:2px 4px}.inline-popup.popup-fade-in{-webkit-animation:.1s ease forwards;animation:.1s ease forwards}.markdown{scroll-behavior:smooth}.markdown h1,.markdown h2,.markdown h3{display:flex;flex-wrap:wrap;font-weight:400;line-height:1.3}.markdown h1 a,.markdown h2 a,.markdown h3 a{padding-right:10px!important}.markdown h1[id]:before,.markdown h2[id]:before,.markdown h3[id]:before{content:"";display:block;height:30px;margin-top:-30px;visibility:hidden}.markdown h1{word-wrap:break-word;font-size:2rem;margin-bottom:12px;margin-top:0;word-break:break-word}.markdown h2{font-size:1.75rem;margin-bottom:12px;margin-top:32px}.markdown h3{font-size:1.1875rem;margin-bottom:18px;margin-top:30px}.markdown pre{clear:both;top:10px}.markdown blockquote{background-color:var(--inline-code-background-color);border-left:2px solid var(--border-color);font-size:.8rem;margin:auto;padding:.1rem 2rem}.markdown blockquote.bg-reading{border-left:none;float:right;margin-left:.5rem}.markdown .language-id{display:none}.markdown table{border-collapse:separate;border-spacing:0;display:block;font-size:.875rem;max-width:100%;overflow-x:auto;table-layout:auto;width:100%}.markdown table.data{display:table}.markdown table.data td,.markdown table.data th,.markdown table.data tr{text-align:center}.markdown table td,.markdown table th{word-wrap:break-word;border:0;border-top:1px solid var(--border-color);display:table-cell;line-height:1.5;padding:.75rem 1rem;text-align:left;vertical-align:top}.markdown table tr:nth-child(2n){background-color:var(--background-minor-highlight-color)}.markdown table th{border-top:none}.markdown img{max-width:100%}.markdown table.full-width-table{display:table;width:100%}.markdown .blue-tick{color:#3178c6;font-size:1.2rem;font-weight:700}.markdown .black-tick{color:#086f56;font-size:1.2rem}.markdown .red-cross{color:#c63131;font-size:1.2rem}</style><link rel="icon" href="/favicon-32x32.png?v=a2d50f90d730ea30d1bede3f5485f343" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=a2d50f90d730ea30d1bede3f5485f343"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=a2d50f90d730ea30d1bede3f5485f343"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=a2d50f90d730ea30d1bede3f5485f343"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=a2d50f90d730ea30d1bede3f5485f343"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=a2d50f90d730ea30d1bede3f5485f343"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=a2d50f90d730ea30d1bede3f5485f343"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=a2d50f90d730ea30d1bede3f5485f343"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=a2d50f90d730ea30d1bede3f5485f343"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><title data-react-helmet="true">Documentation - Writing Reactors in C++</title><link data-react-helmet="true" rel="preload" href="/css/docsearch.css" as="style"/><link data-react-helmet="true" rel="preconnect" href="https://consentdeliveryfd.azurefd.net/"/><script data-react-helmet="true" src="https://polyfill.io/v3/polyfill.min.js?features=es2015%2CArray.prototype.forEach%2CNodeList.prototype.forEach"></script><style data-react-helmet="true">
pre data-err {
  background:url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%206%203'%20enable-background%3D'new%200%200%206%203'%20height%3D'3'%20width%3D'6'%3E%3Cg%20fill%3D'%23c94824'%3E%3Cpolygon%20points%3D'5.5%2C0%202.5%2C3%201.1%2C3%204.1%2C0'%2F%3E%3Cpolygon%20points%3D'4%2C0%206%2C2%206%2C0.6%205.4%2C0'%2F%3E%3Cpolygon%20points%3D'0%2C2%201%2C3%202.4%2C3%200%2C0.6'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") repeat-x 0 100%;
  padding-bottom: 3px;
}</style><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-814858ce1e34a3879a81.js"/><link as="script" rel="preload" href="/framework-7e2a5ddeff7e0b6680f7.js"/><link as="script" rel="preload" href="/app-fa04bc7c35331a030954.js"/><link as="script" rel="preload" href="/commons-a4135cdeaf352c10948e.js"/><link as="script" rel="preload" href="/component---src-templates-documentation-tsx-e7726ecb9ed67ba787f7.js"/><link as="fetch" rel="preload" href="/page-data/docs/handbook/write-reactor-c++/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>
(function() {

  let hasLocalStorage = false
  try {
    hasLocalStorage = typeof localStorage !== "undefined"
  } catch (error) {}

  const systemIsDark = typeof window !== 'undefined' && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const hasSetColorTheme = hasLocalStorage && localStorage.getItem("force-color-theme")
  const customThemeOverride = hasLocalStorage && localStorage.getItem("force-color-theme")

  if (!hasSetColorTheme && systemIsDark) {
    document.documentElement.classList.add("dark-theme")
  } else if (customThemeOverride) {
    document.documentElement.classList.add(customThemeOverride.replace("force-", "") + "-theme")
  }

  const customFontOverride = hasLocalStorage && localStorage.getItem("force-font") || "cascadia"
  document.documentElement.classList.add('font-' + customFontOverride)
})()
  </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="ms-Fabric"><div id="cookie-banner" class="openx"></div><header dir="ltr"><a class="skip-to-main" href="#site-content" tabindex="0">Skip to main content</a><div id="top-menu" class="up"><div class="left below-small"><a id="home-page-logo" aria-label="TypeScript Home Page" href="/"><img id="lf-logo" width="135" height="48" src="/static/header_logo-fa2ba689e3acd6089fe3ad70821e7c51.svg" alt="Lingua Franca Logo"/></a><nav role="navigation"><ul><li class="nav-item hide-small"><a href="/download">Download</a></li><li class="nav-item"><a href="/docs/"><span>Docs</span></a></li><li class="nav-item show-only-large"><a href="/docs/handbook/overview">Handbook</a></li><li class="nav-item"><a href="/community">Community</a></li></ul></nav></div></div><div id="site-content"></div></header><main role="main"><section id="doc-layout"><button id="small-device-button-sidebar"><svg fill="none" height="26" viewBox="0 0 26 26" width="26" xmlns="http://www.w3.org/2000/svg"><g fill="#fff"><path d="m0 1c0-.552285.447715-1 1-1h24c.5523 0 1 .447715 1 1v3h-26z"></path><path d="m0 11h13 13v4h-26z"></path><path d="m0 22h26v3c0 .5523-.4477 1-1 1h-24c-.552284 0-1-.4477-1-1z"></path></g></svg></button><div class="page-popup" id="page-helpful-popup" style="opacity:0"><p>Was this page helpful?</p><div><button class="first" id="like-button-popup" title="Like this page"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.052 2.29429C10.3913 1.31699 11.6841 0.866721 12.4829 1.70385C12.6455 1.87427 12.8081 2.05843 12.9176 2.22265C13.2379 2.70316 13.3725 3.33595 13.4218 3.95232C13.4721 4.58045 13.438 5.25457 13.3738 5.86484C13.3093 6.47746 13.2129 7.03959 13.1328 7.44777C13.1294 7.46547 13.1259 7.48288 13.1225 7.5H14.006C15.8777 7.5 17.2924 9.19514 16.9576 11.0367L16.2737 14.7984C15.8017 17.3943 13.2078 19.0291 10.6622 18.3348L5.06251 16.8076C4.14894 16.5585 3.45455 15.8145 3.26885 14.886L2.91581 13.1208C2.63809 11.7322 3.69991 10.5624 4.82905 10.1161C5.15163 9.98861 5.44337 9.82679 5.66974 9.62597C7.37583 8.11245 7.99442 6.90287 9.05406 4.77695C9.4084 4.06605 9.77205 3.10054 10.052 2.29429ZM12.0165 7.87862L12.0169 7.87707L12.0187 7.86973L12.0262 7.83863C12.0328 7.81079 12.0426 7.76903 12.0549 7.71494C12.0793 7.60669 12.1135 7.4493 12.1515 7.25536C12.2277 6.86666 12.3188 6.33504 12.3793 5.76016C12.4401 5.18293 12.4685 4.5758 12.425 4.03206C12.3806 3.47655 12.2652 3.04684 12.0855 2.77735C12.0264 2.6887 11.9138 2.55604 11.7594 2.39421C11.5605 2.18576 11.1314 2.23428 10.9967 2.62228C10.7141 3.43609 10.3334 4.45194 9.94904 5.22305C8.88216 7.36349 8.19326 8.72408 6.33336 10.374C5.99304 10.6759 5.58878 10.8911 5.19665 11.0461C4.31631 11.3941 3.75035 12.1945 3.89639 12.9247L4.24943 14.6899C4.36085 15.247 4.77748 15.6934 5.32562 15.8428L10.9254 17.3701C12.9052 17.91 14.9227 16.6385 15.2898 14.6195L15.9738 10.8578C16.197 9.63009 15.2538 8.5 14.006 8.5H12.5015C12.3476 8.5 12.2022 8.42906 12.1074 8.30771C12.0127 8.18638 11.9792 8.02796 12.0165 7.87862C12.0165 7.87858 12.0165 7.87866 12.0165 7.87862Z"></path></svg></button><button id="dislike-button-popup" title="Dislike this page"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.052 17.7057C10.3913 18.683 11.6841 19.1333 12.4829 18.2962C12.6455 18.1257 12.8081 17.9416 12.9176 17.7773C13.2379 17.2968 13.3725 16.664 13.4218 16.0477C13.4721 15.4195 13.438 14.7454 13.3738 14.1352C13.3093 13.5225 13.2129 12.9604 13.1328 12.5522C13.1294 12.5345 13.1259 12.5171 13.1225 12.5H14.006C15.8777 12.5 17.2924 10.8049 16.9576 8.96334L16.2737 5.20164C15.8017 2.60569 13.2078 0.970948 10.6622 1.66518L5.06251 3.19238C4.14894 3.44154 3.45455 4.18546 3.26885 5.11401L2.91581 6.87918C2.63809 8.26779 3.69991 9.43756 4.82905 9.88388C5.15163 10.0114 5.44337 10.1732 5.66974 10.374C7.37583 11.8875 7.99442 13.0971 9.05406 15.223C9.4084 15.9339 9.77205 16.8995 10.052 17.7057ZM12.0165 12.1214L12.0169 12.1229L12.0187 12.1303L12.0262 12.1614C12.0328 12.1892 12.0426 12.231 12.0549 12.2851C12.0793 12.3933 12.1135 12.5507 12.1515 12.7446C12.2277 13.1333 12.3188 13.665 12.3793 14.2398C12.4401 14.8171 12.4685 15.4242 12.425 15.9679C12.3806 16.5234 12.2652 16.9532 12.0855 17.2226C12.0264 17.3113 11.9138 17.444 11.7594 17.6058C11.5605 17.8142 11.1314 17.7657 10.9967 17.3777C10.7141 16.5639 10.3334 15.5481 9.94904 14.777C8.88216 12.6365 8.19326 11.2759 6.33336 9.62597C5.99304 9.32406 5.58878 9.1089 5.19665 8.9539C4.31631 8.60592 3.75035 7.80549 3.89639 7.0753L4.24943 5.31012C4.36085 4.753 4.77748 4.30664 5.32562 4.15715L10.9254 2.62995C12.9052 2.08999 14.9227 3.36145 15.2898 5.38052L15.9738 9.14222C16.197 10.3699 15.2538 11.5 14.006 11.5H12.5015C12.3476 11.5 12.2022 11.5709 12.1074 11.6923C12.0127 11.8136 11.9792 11.972 12.0165 12.1214C12.0165 12.1214 12.0165 12.1213 12.0165 12.1214Z"></path></svg></button></div></div><noscript><style>
          nav#sidebar > ul > li.closed ul {
            display: block !important;
           }
        </style></noscript><nav id="sidebar"><ul><li class="open highlighted"><button aria-expanded="true" aria-label="Topics close">Topics<span class="open"><svg fill="none" height="9" viewBox="0 0 14 9" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m1 1 6 6 6-6" stroke="#000" stroke-width="2"></path></svg></span><span class="closed"><svg fill="none" height="14" viewBox="0 0 9 14" width="9" xmlns="http://www.w3.org/2000/svg"><path d="m1 13 6-6-6-6" stroke="#000" stroke-width="2"></path></svg></span></button><ul><li><a href="/docs/handbook/overview">Overview</a></li><li><a href="/docs/handbook/tutorial">Tutorial</a></li><li class="closed"><button aria-label="Language Specification expand">Language Specification<span class="open"><svg fill="none" height="9" viewBox="0 0 14 9" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m1 1 6 6 6-6" stroke="#000" stroke-width="2"></path></svg></span><span class="closed"><svg fill="none" height="14" viewBox="0 0 9 14" width="9" xmlns="http://www.w3.org/2000/svg"><path d="m1 13 6-6-6-6" stroke="#000" stroke-width="2"></path></svg></span></button><ul><li><a href="/docs/handbook/language-specification">Language Specification</a></li><li><a href="/docs/handbook/multiports-banks">Multiports and Banks</a></li></ul></li><li class="closed"><button aria-label="Downloading and Building expand">Downloading and Building<span class="open"><svg fill="none" height="9" viewBox="0 0 14 9" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m1 1 6 6 6-6" stroke="#000" stroke-width="2"></path></svg></span><span class="closed"><svg fill="none" height="14" viewBox="0 0 9 14" width="9" xmlns="http://www.w3.org/2000/svg"><path d="m1 13 6-6-6-6" stroke="#000" stroke-width="2"></path></svg></span></button><ul><li><a href="/docs/handbook/download">Downloading and Building</a></li><li><a href="/docs/handbook/eclipse-oomph">Developer Eclipse setup with Oomph</a></li><li><a href="/docs/handbook/intellij-kotlin">Developer IntelliJ Setup (for Kotlin)</a></li></ul></li><li><a href="/docs/handbook/write-reactor-c">Writing Reactors in C</a></li><li aria-current="page" class="highlight"><a aria-current="page" class="" href="/docs/handbook/write-reactor-c++">Writing Reactors in C++</a></li><li><a href="/docs/handbook/write-reactor-ts">Writing Reactors in TypeScript</a></li><li><a href="/docs/handbook/write-reactor-py">Writing Reactors in Python</a></li><li><a href="/docs/handbook/regression-tests">Regression Tests</a></li><li><a href="/docs/handbook/contributing">Contributing</a></li></ul></li><li class="closed"><button aria-label="Preliminary Development expand">Preliminary Development<span class="open"><svg fill="none" height="9" viewBox="0 0 14 9" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m1 1 6 6 6-6" stroke="#000" stroke-width="2"></path></svg></span><span class="closed"><svg fill="none" height="14" viewBox="0 0 9 14" width="9" xmlns="http://www.w3.org/2000/svg"><path d="m1 13 6-6-6-6" stroke="#000" stroke-width="2"></path></svg></span></button><ul><li><a href="/docs/handbook/distributed-execution">Distributed Execution</a></li><li><a href="/docs/handbook/import-system">Import System</a></li><li><a href="/docs/handbook/tracing">Tracing</a></li><li><a href="/docs/handbook/containerized-execution">Containerized Execution</a></li><li><a href="/docs/handbook/generic-types-interfaces-inheritance">Generic Types, Interfaces, and Inheritance</a></li><li><a href="/docs/handbook/features">Target-Supported Features</a></li><li><a href="/docs/handbook/write-reactor-rust">Writing Reactors in Rust (WIP)</a></li></ul></li><li class="closed"><button aria-label="Less Developed Topics expand">Less Developed Topics<span class="open"><svg fill="none" height="9" viewBox="0 0 14 9" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m1 1 6 6 6-6" stroke="#000" stroke-width="2"></path></svg></span><span class="closed"><svg fill="none" height="14" viewBox="0 0 9 14" width="9" xmlns="http://www.w3.org/2000/svg"><path d="m1 13 6-6-6-6" stroke="#000" stroke-width="2"></path></svg></span></button><ul><li><a href="/docs/handbook/running-benchmarks">Running Benchmarks</a></li><li><a href="/docs/handbook/tools">Tools</a></li><li><a href="/docs/handbook/timing-analysis">Timing Analysis</a></li><li><a href="/docs/handbook/related-work">Related Work</a></li><li><a href="/docs/handbook/proof-import">Future Proof Package/Import System</a></li><li><a href="/docs/handbook/rfc-modal">RFC: Modal Models (Draft I)</a></li></ul></li></ul></nav><div id="handbook-content" role="article"><h2>Writing Reactors in C++</h2><article><div class="whitespace raised"><div class="markdown"><p>In the C++ reactor target for Lingua Franca, reactions are written in C++ and the code generator generates a standalone C++ program that can be compiled and run on all major platforms. Our continous integration ensures compatibility with Windows, MacOS and Linux.
The C++ target solely depends on a working C++ build system including a recent C++ compiler (supporting C++17) and <a href="https://cmake.org/">CMake</a> (>= 3.5). It relies on the <a href="https://github.com/tud-ccc/reactor-cpp">reactor-cpp</a> runtime, which is automatically fetched and compiled in the background by the Lingua Franca compiler.</p>
<p>Note that C++ is not a safe language. There are many ways that a programmer can circumvent the semantics of Lingua Franca and introduce nondeterminism and illegal memory accesses. For example, it is easy for a programmer to mistakenly send a message that is a pointer to data on the stack. The destination reactors will very likely read invalid data. It is also easy to create memory leaks, where memory is allocated and never freed. Note, however, that the C++ reactor library is designed to prevent common errors and to encourage a safe modern C++ style. Here, we introduce the specifics of writing Reactor programs in C++ and present some guidelines for a style that will be safe.</p>
<h2 id="setup" style="position:relative;"><a href="#setup" aria-label="setup permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup</h2>
<p>The following tools are required in order to compile the generated C++ source code:</p>
<ul>
<li>A recent C++ compiler supporting C++17</li>
<li>A recent version of cmake (At least 3.5)</li>
</ul>
<h2 id="a-minimal-example" style="position:relative;"><a href="#a-minimal-example" aria-label="a minimal example permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A Minimal Example</h2>
<p>A “hello world” reactor for the C++ target looks like this:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">target Cpp;

main reactor {
    reaction(startup) {=
        std::cout &lt;&lt; "Hello World!\n";
    =}
}</code></pre></div>
<p>The <code class="language-text">startup</code> action is a special <a href="https://github.com/lf-lang/lingua-franca/wiki/Language-Specification#Action-Declaration">action</a> that triggers at the start of the program execution causing the <a href="https://github.com/lf-lang/lingua-franca/wiki/Language-Specification#Reaction-Declaration">reaction</a> to execute. This program can be found in a file called <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/Minimal.lf">Minimal.lf</a> in the <a href="https://github.com/lf-lang/lingua-franca/tree/master/test/Cpp">test directory</a>, where you can also find quite a few more interesting examples. If you compile this using the <a href="downloading-and-building#Command-Line-Tools"><code class="language-text">lfc</code> command-line compiler</a> or the <a href="downloading-and-building#Download-the-Integrated-Development-Environment">Eclipse-based IDE</a>, then generated source files will be put into a subdirectory called <code class="language-text">src-gen/Minimal</code>. In addition, an executable binary will be compiled using your system’s C++ compiler. The resulting executable will be called <code class="language-text">Minimial</code> and be put in a subdirectory called <code class="language-text">bin</code>. If you are in the C++ test directory, you can execute it in a shell as follows:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text"> bin/Minimal</code></pre></div>
<p>The resulting output should look something like this:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[INFO]  Starting the execution
Hello World!
[INFO]  Terminating the execution</code></pre></div>
<h2 id="the-c-target-specification" style="position:relative;"><a href="#the-c-target-specification" aria-label="the c target specification permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The C++ Target Specification</h2>
<p>To have Lingua Franca generate C++ code, start your <code class="language-text">.lf</code> file with the following target specification:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">target Cpp;</code></pre></div>
<p>A C++ target specification may optionally include the following parameters:</p>
<ul>
<li><code class="language-text">build-type "type"</code>: The <em>build type</em> to be used by the C++ compiler. This can be any of Release, Debug, RelWithDebInfo and MinSizeRel. It defaults to Release.</li>
<li><code class="language-text">cmake-include "file"</code>: An optional <em>file</em> to be included by the generated cmake build system. This gives control over the way LF programs are build and allows for instance to include and link to external libraries. (See <a href="https://github.com/lf-lang/lingua-franca/blob/master/xtext/org.icyphy.linguafranca/src/test/Cpp/AsyncCallback.lf"><code class="language-text">AsyncCallvack.lf</code></a> for an example)</li>
<li><code class="language-text">compiler "command"</code>: The <em>command</em> to use to compile the generated code. Normally CMake selects the best compiler for your system, but you can use this parameter to point it to your preferred compiler.</li>
<li><code class="language-text">external-runtime-path "path"</code>: When specified, the resulting binary links to a pre-compiled external runtime library located in <em>path</em>  instead of the default one.</li>
<li><code class="language-text">export-dependency-graph [true|false]</code>: Whether the compiled binary will export its internal dependency graph as a dot graph when executed. This is a debugging utility.</li>
<li><code class="language-text">fast [true|false]</code>: Whether to execute as fast as possible ignoring real time. This defaults to false.</li>
<li><code class="language-text">keepalive [true|false]</code>: Whether to continue executing even when there are no events on the event queue. The default is false. Usually, you will want to set this to true when you have <strong>physical action</strong>s.</li>
<li><code class="language-text">logging [ERROR|WARN|INF|DEBUG]</code>: The level of diagnostic messages about execution to print to the console. A message will print if this parameter is greater than or equal to the level of the message (<code class="language-text">ERROR</code> &#x3C; <code class="language-text">WARN</code> &#x3C; <code class="language-text">INFO</code> &#x3C; <code class="language-text">DEBUG</code>).</li>
<li><code class="language-text">no-compile [true|false]</code>: If this is set to true, then the Lingua Franca compiler will only generate code and not run the C++ compiler. This defaults to false.</li>
<li><code class="language-text">no-runtime-validation [true|false]</code>: If this is set to true, then all runtime checks in <a href="https://github.com/tud-ccc/reactor-cpp">reactor-cpp</a> will be disabled. This brings a slight performance boost but should be used with care and only on tested programs. This defaults to false.</li>
<li><code class="language-text">runtime-version "version"</code>: Specify the <em>version</em> of the runtime library the compiled binary should link against. <em>version</em> can be any tag, branch name or git hash in the <a href="https://github.com/tud-ccc/reactor-cpp">reactor-cpp</a> repository.</li>
<li><code class="language-text">threads &lt;n></code>: The number of worker threads <em>n</em> that are used to execute reactions. This is required to be a positive integer. If this is not specified or set to zero, then the number of worker threads will be set to the number of hardware threads of the executing system. If this is set to one, the scheduler will not create any worker threads and instead inline the execution of reactions. This is an optimization and avoids any unnecessary synchronization. Note that, in contrast to the C target, the single threaded implementation is still thread safe and asynchronous reaction scheduling is supported.</li>
<li><code class="language-text">timeout &lt;n> &lt;unit></code>: This specifies to stop after the specified amount of logical time has elapsed. All events at that logical time that have microstep 0 will be processed, but not events with later tags. If any reactor calls <code class="language-text">request_stop</code> before this logical time, then the program may stop at an earlier logical time. If no timeout is specified and <code class="language-text">request_stop</code> is not called, then the program will continue to run until stopped by some other mechanism (such as Control-C).</li>
</ul>
<h2 id="command-line-arguments" style="position:relative;"><a href="#command-line-arguments" aria-label="command line arguments permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Command-Line Arguments</h2>
<p>The generated C++ program understands the following command-line arguments, each of which has a short form (one character) and a long form:</p>
<ul>
<li><code class="language-text">-f, --fast</code>:  If set, then the program will execute as fast as possible, letting logical time advance faster than physical time.</li>
<li><code class="language-text">-o, --timeout '&lt;duration> &lt;units>'</code>: Stop execution when logical time has advanced by the specified <em>duration</em>. The units can be any of nsec, usec, msec, sec, minute, hour, day, week, or the plurals of those.</li>
<li><code class="language-text">-k, --keepalive</code>: If set, then the program will keep executing until either the <code class="language-text">timeout</code> logical time is reached or the program is externally killed. If you have <code class="language-text">physical action</code>s, it usually makes sense to set this.</li>
<li><code class="language-text">-t, --threads &lt;n></code>: Use n worker threads for executing reactions.</li>
<li><code class="language-text">-h, --help</code>: Print the above information.</li>
</ul>
<p>If the main reactor declares parameters, these parameters will appear as additional CLI options that can be specified when invoking the binary (see <a href="#using-parameters">Using Parameters</a>).</p>
<h2 id="imports" style="position:relative;"><a href="#imports" aria-label="imports permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Imports</h2>
<p>The <a href="Language-Specification#import-statement">import statement</a> can be used to share reactor definitions across several applications. Suppose for example that we modify the above Minimal.lf program as follows and store this in a file called <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/HelloWorld.lf">HelloWorld.lf</a>:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">target Cpp;
reactor HelloWorld {
    reaction(startup) {=
        std::cout &lt;&lt; "Hello World.\n";
    =}
}
main reactor HelloWorldTest {
    a = new HelloWorld();
}</code></pre></div>
<p>This can be compiled and run, and its behavior will be identical to the version above.
But now, this can be imported into another reactor definition as follows:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">target Cpp;
import HelloWorld.lf;
main reactor TwoHelloWorlds {
    a = new HelloWorld();
    b = new HelloWorld();
}</code></pre></div>
<p>This will create two instances of the HelloWorld reactor, and when executed, will print “Hello World” twice.</p>
<p>Note that in the above example, the order in which the two reactions are invoked is undefined
because there is no causal relationship between them. In fact, you might see garbled output as on default multiple worker threads are used to execute the program and <code class="language-text">std::cout</code> is not thread safe. You can restrict execution to one thread if you modify the target specification to say:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">target Cpp {threads: 1};</code></pre></div>
<p>A more interesting illustration of imports can be found in the <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/Import.lf">Import.lf</a> test case.</p>
<h2 id="preamble" style="position:relative;"><a href="#preamble" aria-label="preamble permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Preamble</h2>
<p>Reactions may contain arbitrary C++ code, but often it is convenient for that code to invoke external libraries or to share type and/or method definitions.  For either purpose, a reactor may include a <strong>preamble</strong> section. For example, the following reactor uses <code class="language-text">atoi</code> from the common <code class="language-text">stdlib</code> C library to convert a string to an integer:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">main reactor Preamble {
    private preamble {=
        include &lt;cstdlib>
    =}
    timer t;
    reaction(t) {=
        char* s = "42";
        int i = atoi(s);
        std::cout &lt;&lt; "Converted string &lt;&lt; s &lt;&lt; " to nt " &lt;&lt; i &lt;&lt; '\n';
    =}
}</code></pre></div>
<p>This will print:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Converted string 42 to int 42.</code></pre></div>
<p>By putting the <code class="language-text">#include</code> in the <strong>preamble</strong>, the library becomes available in all reactions of this reactor. Note the <strong>private</strong> qualifier before the <strong>preamble</strong> keyword. This ensures that the preamble is only visible to the reactions defined in this reactor and not to any other reactors. In contrast, the <strong>public</strong> qualifier ensures that the preamble is also visible to other reactors in files that import the reactor defining the public preamble.</p>
<p>See for instance the reactor in <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/Preamble.lf">Preamble.lf</a>:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor Preamble {
    public preamble {=
        struct MyStruct {
            int foo;
            std::string bar;
        };
    =}
    
    private preamble {=
        int add_42(int i) {
            return i + 42;
        }
    =}

    logical action a:MyStruct;
    
    reaction(startup) {=
        a.schedule({add_42(42), "baz"});
    =}

    reaction(a) {=
        auto&amp; value = *a.get();
        std::cout &lt;&lt; "Received " &lt;&lt; value.foo &lt;&lt; " and '" &lt;&lt; value.bar &lt;&lt; "'\n"; 
    =}
}
</code></pre></div>
<p>It defines both, a public and a private preamble. The public preamble defines the type <code class="language-text">MyStruct</code>. This type definition will be visible to all elements of the <code class="language-text">Preamble</code> reactor as well as to all reactors defined in files that import <code class="language-text">Preamble</code>. The private preamble defines the function <code class="language-text">add_42(int i)</code>. This function will only be usable to reactions within the <code class="language-text">Preamble</code> reactor.</p>
<p>You can think of public and private preambles as the equivalent of header files and source files in C++. In fact, the public preamble will be translated to a header file and the private preamble to a source file. As a rule of thumb, all types that are used in port or action definitions as well as in state variables or parameters should be defined in a public preamble. Also declarations of functions to be shared across reactors should be placed in the public preamble. Everything else, like function definitions or types that are used only within reactions should be placed in a private preamble.</p>
<p>Note that preambles can also be specified on the file level. These file level preambles are visible to all reactors within the file. An example of this can be found in <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/target/PreambleFile.lf">PreambleFile.lf</a>.</p>
<p>Admittedly, the precise interactions of preambles and imports can become confusing. The preamble mechanism will likely be refined in future revisions.</p>
<p>Note that functions defined in the preamble cannot access members such as state variables of the reactor unless they are explicitly passed as arguments. If access to the inner state of a reactor is required, <a href="https://github.com/lf-lang/lingua-franca/wiki/Writing-Reactors-in-Cpp#using-methods">methods</a> present a viable and easy to use alternative.</p>
<h2 id="reactions" style="position:relative;"><a href="#reactions" aria-label="reactions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reactions</h2>
<p>Recall that a reaction is defined within a reactor using the following syntax:</p>
<blockquote>
<p><strong>reaction</strong>(<em>triggers</em>) <em>uses</em> -> <em>effects</em> {=<br/>
   … target language code … <br/>
=}</p>
</blockquote>
<p>In this section, we explain how <strong>triggers</strong>, <strong>uses</strong>, and <strong>effects</strong> variables work in the C++ target.</p>
<h3 id="inputs-and-outputs" style="position:relative;"><a href="#inputs-and-outputs" aria-label="inputs and outputs permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Inputs and Outputs</h3>
<p>In the body of a reaction in the C++ target, the value of an input is obtained using the syntax <code class="language-text">*name.get()</code>, where <code class="language-text">name</code> is the name of the input port. Note that <code class="language-text">get()</code> always returns a pointer to the actual value. Thus the pointer needs to be dereferenced with <code class="language-text">*</code> to obtain the value. (See <a href="#sending-and-receiving-large-data-types">Sending and Receiving Large Data Types</a> for an explanation of the exact mechanisms behind this pointer access).
To determine whether an input is present, <code class="language-text">name.is_present()</code> can be used. Since <code class="language-text">get()</code> returns a <code class="language-text">nullptr</code> if no value is present, <code class="language-text">name.get() != nullptr</code> can be used alternatively for checking presence.</p>
<p>For example, the <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/Determinism.lf">Determinism.lf</a> test case in the <a href="https://github.com/lf-lang/lingua-franca/tree/master/test/Cpp">test directory</a> includes the following reactor:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor Destination {
    input x:int;
    input y:int;
    reaction(x, y) {=
        int sum = 0;
        if (x.is_present()) {
            sum += *x.get();
        }
        if (y.is_present()) {
            sum += *y.get();
        }
        std::cout &lt;&lt; "Received " &lt;&lt; sum &lt;&lt; std::endl;
    =}
}</code></pre></div>
<p>The reaction refers to the inputs <code class="language-text">x</code> and <code class="language-text">y</code> and tests for the presence of values using <code class="language-text">x.is_present()</code> and <code class="language-text">y.is_present()</code>.  If a reaction is triggered by just one input, then normally it is not necessary to test for its presence; it will always be present. But in the above example, there are two triggers, so the reaction has no assurance that both will be present.</p>
<p>Inputs declared in the <strong>uses</strong> part of the reaction do not trigger the reaction. Consider this modification of the above reaction:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reaction(x) y {=
    int sum = *x.get();
    if (y.is_present()) {
        sum += *y.get();
    }
    std::cout &lt;&lt; "Received " &lt;&lt; sum &lt;&lt; std::endl;
=}</code></pre></div>
<p>It is no longer necessary to test for the presence of <code class="language-text">x</code> because that is the only trigger. The input <code class="language-text">y</code>, however, may or may not be present at the logical time that this reaction is triggered. Hence, the code must test for its presence.</p>
<p>The <strong>effects</strong> portion of the reaction specification can include outputs and actions. Actions will be described below. Outputs are set using a <code class="language-text">set()</code> method on an output port. For example, we can further modify the above example as follows:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">output z:int;
reaction(x) y -> z {=
    int sum = *x.get();
    if (y.is_present()) {
        sum += *y.get();
    }
    z.set(sum);
=}</code></pre></div>
<p>If an output gets set more than once at any logical time, downstream reactors will see only the <em>final</em> value that is set. Since the order in which reactions of a reactor are invoked at a logical time is deterministic, and whether inputs are present depends only on their timestamps, the final value set for an output will also be deterministic.</p>
<p>An output may even be set in different reactions of the same reactor at the same logical time. In this case, one reaction may wish to test whether the previously invoked reaction has set the output. It can check <code class="language-text">name.is_present()</code> to determine whether the output has been set. For example, the following reactor (see <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/TestForPreviousOutput.lf">TestForPreviousOutput.lf</a>) will always produce the output 42:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor Source {
    output out:int;
    reaction(startup) -> out {=
        // Set a seed for random number generation based on the current time.
        std::srand(std::time(nullptr));
        // Randomly produce an output or not.
        if (std::rand() % 2) {
            out.set(21);
        }
    =}
    reaction(startup) -> out {=
        if (out.is_present()) {
            int previous_output = *out.get();
            out.set(2 * previous_output);
        } else {
            out.set(42);
        }
    =}
}</code></pre></div>
<p>The first reaction may or may not set the output to 21. The second reaction doubles the output if it has been previously produced and otherwise produces 42.</p>
<h3 id="using-state-variables" style="position:relative;"><a href="#using-state-variables" aria-label="using state variables permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using State Variables</h3>
<p>A reactor may declare state variables, which become properties of each instance of the reactor. For example, the following reactor (see <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/lib/Count.lf">Count.lf</a> and <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/CountTest.lf">CountTest.lf</a>) will produce the output sequence 1, 2, 3, … :</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor Count {
    state i:int(0);
    output c:int;
    timer t(0, 1 sec);
    reaction(t) -> c {=
        i++;
        c.set(i);
    =}
}</code></pre></div>
<p>The declaration on the second line gives the variable the name <code class="language-text">count</code>, declares its type to be <code class="language-text">int</code>, and initializes its value to 0. The type and initial value can be enclosed in the C++-code delimiters <code class="language-text">{= ... =}</code> if they are not simple identifiers, but in this case, that is not necessary.</p>
<p>In the body of the reaction, the state variable is automatically in scope and can be referenced directly by its name. Since all reactions, state variables and also parameters of a reactor are members of the same class, reactions can also reference state variables (or parameters) using the this pointer: <code class="language-text">this->name</code>.</p>
<p>A state variable may be a time value, declared as follows:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">state time_value:time(100 msec);</code></pre></div>
<p>The type of the generated <code class="language-text">time_value</code> variable will be <code class="language-text">reactor::Duration</code>, which is an alias for <a href="https://en.cppreference.com/w/cpp/chrono/duration"><code class="language-text">std::chrono::nanoseconds</code></a>.</p>
<p>For the C++ target, Lingua Franca provides two alternative styles for initializing state variables. We can write <code class="language-text">state foo:int(42)</code> or <code class="language-text">state foo:int{42}</code>. This allows to distinguish between the different initialization styles in C++. <code class="language-text">foo:int(42)</code> will be translated to <code class="language-text">int foo(42)</code> and <code class="language-text"> foo:int{42}</code> will be translated to <code class="language-text">int foo{42}</code> in the generated code. Generally speaking, the <code class="language-text">{...}</code> style should be preffered in C++, but it is not always applicable. Hence we allow the LF programmer to choose the style. Due to the peculiarities of C++, this is particularly important for more complex data types. For instance, <code class="language-text">state foo:std::vector&lt;int>(4,2)</code> would be initialized to the list <code class="language-text">[2,2,2,2]</code> whereas <code class="language-text">state foo:std::vector&lt;int>{4,2}</code> would be initialized to the list <code class="language-text">[4,2]</code>.</p>
<p>State variables can have array values. For example, the [MovingAverage] (<a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/MovingAverage.lf">https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/MovingAverage.lf</a>) reactor computes the <strong>moving average</strong> of the last four inputs each time it receives an input:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor MovingAverageImpl {
    state delay_line:double[3]{0.0, 0.0, 0.0};
    state index:int(0);
    input in:double;
    output out:double;

    reaction(in) -> out {=
        // Calculate the output.
        double sum = *in.get();
        for (int i = 0; i &lt; 3; i++) {
            sum += delay_line[i];
        }
        out.set(sum/4.0);

        // Insert the input in the delay line.
        delay_line[index] = *in.get();

        // Update the index for the next input.
        index++;
        if (index >= 3) {
            index = 0;
        }
    =}
}</code></pre></div>
<p>The second line declares that the type of the state variable is an fixed-size array of 3 <code class="language-text">double</code>s with the initial value of the being filled with zeros (note the curly braces). If the size is given in the type specification, then the code generator will declare the type of the state variable using <a href="https://en.cppreference.com/w/cpp/container/array"><code class="language-text">std::array</code></a>. In the example above, the type of <code class="language-text">delay_line</code> is <code class="language-text">std::array&lt;3, double></code>. If the size specifier is omitted (e.g. <code class="language-text">state x:double[]</code>). The code generator will produce a variable-sized array using <a href="https://en.cppreference.com/w/cpp/container/vector"><code class="language-text">std::vector</code></a>.</p>
<p>State variables with more complex types such as classes or structs can be similiarly initialized. See <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/StructAsState.lf">StructAsState.lf</a>.</p>
<h3 id="using-parameters" style="position:relative;"><a href="#using-parameters" aria-label="using parameters permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using Parameters</h3>
<p>Reactor parameters work similar to state variables in C++. However, they are always declared as <code class="language-text">const</code> and initialized during reactor instantiation. Thus, the value of a parameter may not be changed. For example, the <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/Stride.lf">Stride</a> reactor modifies the above <code class="language-text">Count</code> reactor so that its stride is a parameter:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor Count(stride:int(1)) {
    state count:int(0);
    output y:int;
    timer t(0, 100 msec);
    reaction(t) -> y {=
        y.set(count);
        count += stride;
    =}
}
reactor Display {
    input x:int;
    reaction(x) {=
    	std::cout &lt;&lt; "Received " &lt;&lt; *x.get() &lt;&lt; std::endl;
    =}
}
main reactor Stride {
    c = new Count(stride = 2);
    d = new Display();
    c.y -> d.x;
}</code></pre></div>
<p>The first line defines the <code class="language-text">stride</code> parameter, gives its type, and gives its initial value. As with state variables, the type and initial value can be enclosed in <code class="language-text">{= ... =}</code> if necessary.</p>
<p>When the reactor is instantiated, the default parameter value can be overridden. This is done in the above example near the bottom with the line:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">c = new Count(stride = 2);</code></pre></div>
<p>If there is more than one parameter, use a comma separated list of assignments.</p>
<p>Also parameters can have fixed- or variable-sized array values. The <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/C/ArrayAsParameter.lf">ArrayAsParameter</a> example  outputs the elements of an array as a sequence of individual messages:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor Source(sequence:int[]{0, 1, 2}) {
    output out:int;
    state count:int(0);
    logical action next:void;
    reaction(startup, next) -> out, next {=
        out.set(sequence[count]);
        count++;
        if (count &lt; sequence.size()) {
            next.schedule();
        }
    =}
}</code></pre></div>
<p>The <strong>logical action</strong> named <code class="language-text">next</code> and the <code class="language-text">schedule</code> method are explained below in <a href="#Scheduling-Delayed-Reactions">Scheduling Delayed Reactions</a>; here they are used simply to repeat the reaction until all elements of the array have been sent. Note that similiar aas for state variables, curly braces <code class="language-text">{...}</code> can optionally be used for initialization.</p>
<p>Note that also the main reactor can be parameterized:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">main reactor Hello(msg: std::string("World")) {
    reaction(startup) {=
        std::cout &lt;&lt; "Hello " &lt;&lt; msg &lt;&lt; "!\n";
    =}
}</code></pre></div>
<p>This program will print “Hello World!” by default. However, since <code class="language-text">msg</code> is a main reactor parameter, the C++ code generator will extend the CLI argument parser and allow to overwrite <code class="language-text">msg</code> when invoking the program. For instance,</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">bin/Hello --msg Earth</code></pre></div>
<p>will result in “Hello Earth!” being printed.</p>
<h3 id="using-methods" style="position:relative;"><a href="#using-methods" aria-label="using methods permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using Methods</h3>
<p>Sometimes reactors need to perform certain operations on state variables and/or parameters that are shared between reactions or that are too complex to be implemented in a single reaction. In such cases, methods can be defined within reactors to facilitate code reuse and enable a better structuring of the reactor’s functionality. Analogous to class methods, methods in LF can access all state variables and parameters, and can be invoked from all reaction bodies or from other methods. Consdider the <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/target/Method.lf">Method</a> example:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">main reactor {
    state foo:int(2);
  	 
    const method getFoo(): int {=
        return foo;
    =}
	
    method add(x:int) {=
        foo += x;
    =}
      
    reaction(startup){=
        std::cout &lt;&lt; "Foo is initialized to " &lt;&lt; getFoo() &lt;&lt; '\n';
        add(40);
        std::cout &lt;&lt; "2 + 40 = " &lt;&lt; getFoo() &lt;&lt; '\n';
    =}
}</code></pre></div>
<p>This reactor defines two methods <code class="language-text">getFoo</code> and <code class="language-text">add</code>. <code class="language-text">getFoo</code> is quailfied as a const method, which indicates that it has read-only access to the state variables. This is direclty translated to a C++ const method in the code generation process. <code class="language-text">getFoo</code> receives no arguments and returns an integer (<code class="language-text">int</code>) indicating the current value of the <code class="language-text">foo</code> state variable. <code class="language-text">add</code> returns nothing (<code class="language-text">void</code>) and receives one interger argument, which it uses to increment <code class="language-text">foo</code>. Both methods are visible in all reactions of the reactor. In this example, the reactio to startup calles both methods in order ro read and modify its state.</p>
<h3 id="sending-and-receiving-large-data-types" style="position:relative;"><a href="#sending-and-receiving-large-data-types" aria-label="sending and receiving large data types permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sending and Receiving Large Data Types</h3>
<p>You can define your own datatypes in C++ or use types defined in a library and send and receive those. Consider the <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/StructAsType.lf">StructAsType</a> example:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor StructAsType {
    public preamble {=
        struct Hello {
            std::string name;
            int value;
        };
    =}
    
    output out:Hello;
    reaction(startup) -> out {=
        Hello hello{"Earth, 42};
        out.set(hello);
    =}
}</code></pre></div>
<p>The <strong>preamble</strong> code defines a struct datatype. In the reaction to <strong>startup</strong>, the reactor creates an instance of this struct on the stack (as a local variable named <code class="language-text">hello</code>) and then copies that instance to the output using the <code class="language-text">set()</code> method. For this reason, the C++ reactor runtime provides more sophisticated ways to allocate objects and send them via ports.</p>
<p>The C++ library defines two types of smart pointers that the runtime uses internally to implement the exchange of data between ports. These are <code class="language-text">reactor::MutableValuePtr&lt;T></code> and <code class="language-text">reactor::ImmutableValuePtr&lt;T></code>. <code class="language-text">reactor::MutableValuePtr&lt;T></code> is a wrapper around <a href="https://en.cppreference.com/w/cpp/memory/unique_ptr"><code class="language-text">std::unique_ptr</code></a> and provides read and write access to the value hold, while ensuring that the value has a unique owner. In contrast, <code class="language-text">reactor::ImmutableValuePtr&lt;T></code> is a wrapper around <a href="https://en.cppreference.com/w/cpp/memory/shared_ptr"><code class="language-text">std::shared_pointer</code></a> and provides read only (const) access to the value it holds. This allows data to be shared between reactions of various reactors, while guarantee data consistency. Similar to <code class="language-text">std::make_unique</code> and <code class="language-text">std::make_shared</code>, the reactor library provides convenient function for creating mutable and immutable values pointers: <code class="language-text">reactor::make_mutable_value&lt;T>(...)</code> and <code class="language-text">reactor::make_immutable_value&lt;T>(...)</code>.</p>
<p>In fact this code from the example above:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Hello hello{"Earth, 42};
out.set(hello);</code></pre></div>
<p>implicitly invokes <code class="language-text">reactor::make_immutable_value&lt;Hello>(hello)</code> and could be rewritten as</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Hello hello{"Earth, 42};
out.set(reactor::make_immutable_value&lt;Hello>(hello));</code></pre></div>
<p>This will invoke the copy constructor of <code class="language-text">Hello</code>, copying its content from the <code class="language-text">hello</code> instance to the newly created <code class="language-text">reactor::ImmutableValuePtr&lt;Hello></code>.</p>
<p>Since copying large objects is inefficient, the move semantics of C++ can be used to move the ownership of object instead of copying it. This can be done in the following two ways. First, by directly creating a mutable or immutable value pointer, where a mutable pointer allows modification of the object after it has been created:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">auto hello = reactor::make_mutable_value&lt;Hello>("Earth", 42);
hello->name = "Mars";
out.set(std::move(hello));</code></pre></div>
<p>An example of this can be found in <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/StructPrint.lf">StructPrint.lf</a>. Not that after the call to <code class="language-text">std::move</code>, hello is <code class="language-text">nullptr</code> and the reaction cannot modify the object anymore. Alternatively, if no modification is requires, the object can be instantiated directly in the call to <code class="language-text">set()</code> as follows:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">out.set({"Earth", 42});</code></pre></div>
<p>An example of this can be found in <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/StructAsTypeDirect.lf">StructAsTypeDirect</a>.</p>
<p>Getting a value from an input port of type <code class="language-text">T</code> via <code class="language-text">get()</code> always returns an <code class="language-text">reactor::ImmutableValuePtr&lt;T></code>. This ensures that the value cannot be modified by multiple reactors receiving the same value, as this could lead to an inconsistent state and nondeterminism in a multi-threaded execution. An immutable value pointer can be converted to a mutable pointer by calling <code class="language-text">get_mutable_copy</code>. For instance, the <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/ArrayScale.lf">ArrayScale</a> reactor modifies elements of the array it receives before sending it to the next reactor:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor Scale(scale:int(2)) {
    input in:int[3];
    output out:int[3];

    reaction(in) -> out {=
        auto array = in.get().get_mutable_copy();
        for(int i = 0; i &lt; array->size(); i++) {
            (*array)[i] = (*array)[i] * scale;
        }
        out.set(std::move(array));
    =}
}</code></pre></div>
<p>Currently <code class="language-text">get_mutable_copy()</code> always copies the contained value to safely create a mutable pointer. However, a future implementation could optimize this by checking if any other reaction is accessing the same value. If not, the value can simply be moved from the immutable pointer to a mutable one.</p>
<h2 id="timed-behavior" style="position:relative;"><a href="#timed-behavior" aria-label="timed behavior permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Timed Behavior</h2>
<p>Timers are specified exactly as in the <a href="Language-Specification#timer-declaration">Lingua Franca language specification</a>. When working with time in the C++ code body of a reaction, however, you will need to know a bit about its internal representation.</p>
<p>The Reactor C++ library uses <a href="https://en.cppreference.com/w/cpp/chrono"><code class="language-text">std::chrono</code></a> for representing time. Specifically, the library defines two types for representing durations and timepoints: <code class="language-text">reactor::Duration</code> and <code class="language-text">reactor::TimePoint</code>. <code class="language-text">reactor::Duration</code> is an alias for <a href="https://en.cppreference.com/w/cpp/chrono/duration"><code class="language-text">std::chrono::nanosecods</code></a>. <code class="language-text">reactor::TimePoint</code> is alias for <a href="https://en.cppreference.com/w/cpp/chrono/time_point"><code class="language-text">std::chrono::time_point&lt;std::chrono::system_clock, std::chrono::nanoseconds></code></a>. As you can see from these definitions, the smallest time step that can be represented is one nanosecond. Note that <code class="language-text">reactor::TimePoint</code> describes a specific point in time and is associated with a specific clock, whereas <code class="language-text">reactor::Duration</code> defines a time interval between two time points.</p>
<p>Lingua Franca uses a superdense model of logical time.  A reaction is invoked at a logical <strong>tag</strong>. In the C++ library, a tag is represented by the class <code class="language-text">reactor::Tag</code>. In essence, this class is a tuple of a <code class="language-text">reactor::TimePoint</code> representing a specific point in logical time and a microstep value (of type <code class="language-text">reactor::mstep_t</code>, which is an alias for <code class="language-text">unsigned long</code>). <code class="language-text">reactor::Tag</code> provides two methods for getting the time point or the microstep:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">const TimePoint&amp; time_point() const;
const mstep_t&amp; micro_step() const;</code></pre></div>
<p>The C++ code in reaction bodies has access to library functions that allow to retrieve the current logical or physical time:</p>
<ul>
<li><code class="language-text">TimePoint get_physical_time()</code>: Get the current physical time.</li>
<li><code class="language-text">TimePoint get_logcial_time()</code>: Get the current logical time.</li>
<li><code class="language-text">Duration get_elapsed_physical_time()</code>: Get the physical time elapsed since program start.</li>
<li><code class="language-text">Duration get_elapsed_logical_time()</code>: Get the logical time elapsed since program start.</li>
</ul>
<p>A reaction can examine the current logical time (which is constant during the execution of the reaction). For example, consider the <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/GetTime.lf">GetTime</a> example:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">main reactor {
    timer t(0, 1 sec);
    reaction(t) {=
        auto logical = get_logical_time();
        std::cout &lt;&lt; "Logical time is " &lt;&lt; logical &lt;&lt; std::endl;
    =}
}</code></pre></div>
<p>Note that the <code class="language-text">&lt;&lt;</code> operator is overloaded for both <code class="language-text">reactor::TimePoint</code> and <code class="language-text">reactor::Duration</code> and will print the time information accordingly.</p>
<p>When executing the above program, you will see something like this:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[INFO]  Starting the execution
Logical time is 2021-05-19 14:06:09.496828396
Logical time is 2021-05-19 14:06:10.496828396
Logical time is 2021-05-19 14:06:11.496828396
Logical time is 2021-05-19 14:06:11.496828396
...</code></pre></div>
<p>If you look closely, you will see that each printed logical time is one second larger than the previous one.</p>
<p>You can also obtain the <em>elapsed</em> logical time since the start of execution:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">main reactor {
    timer t(0, 1 sec);
    reaction(t) {=
        auto elapsed = get_elapsed_logical_time();
        std::cout &lt;&lt; "Elapsed logical time is " &lt;&lt; elapsed &lt;&lt; std::endl;
        std::cout &lt;&lt; "In seconds: " &lt;&lt;  std::chrono::duration_cast&lt;std::chrono::seconds>(elapsed) &lt;&lt; std::endl;
    =}
}</code></pre></div>
<p>Using <code class="language-text">std::chrono</code> it is also possible to convert between time units and directly print the number of elapsed seconds as seen above. The resulting output of this program will be:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[INFO]  Starting the execution
Elapsed logical time is 0 nsecs
In seconds: 0 secs
Elapsed logical time is 1000000000 nsecs
In seconds: 1 secs
Elapsed logical time is 2000000000 nsecs
In seconds: 2 secs
...</code></pre></div>
<p>You can also get physical and elapsed physical time:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">main reactor {
    timer t(0, 1 sec);
	reaction(t) {=
        auto logical = get_logical_time();
        auto physical = get_physical_time();
		auto elapsed = get_elapsed_physical_time();
        std::cout &lt;&lt; "Physical time is " &lt;&lt; physical &lt;&lt; std::endl;
        std::cout &lt;&lt; "Elapsed physical time is " &lt;&lt; elapsed &lt;&lt; std::endl;
        std::cout &lt;&lt; "Time lag is " &lt;&lt; physical - logical &lt;&lt; std::endl;
   =}
}</code></pre></div>
<p>Notice that the physical times are increasing by <em>roughly</em> one second in each reaction. The output also shows the lag between physical and logical time. If you set the <code class="language-text">fast</code> target parameter to <code class="language-text">true</code>, then physical time will elapse much faster than logical time. The above program will produce something like this:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">[INFO]  Starting the execution
Physical time is 2021-05-19 14:25:18.070523014
Elapsed physical time is 2601601 nsecs
Time lag is 2598229 nsecs
Physical time is 2021-05-19 14:25:19.068038275
Elapsed physical time is 1000113888 nsecs
Time lag is 113490 nsecs
[INFO]  Physical time is Terminating the execution
2021-05-19 14:25:20.068153026
Elapsed physical time is 2000228689 nsecs
Time lag is 228241 nsecs</code></pre></div>
<p>For specifying time durations in code <a href="https://en.cppreference.com/w/cpp/header/chrono">chrono</a> provides convenient literal operators in <code class="language-text">std::chrono_literals</code>. This namespace is automatically included for all reaction bodies. Thus, we can simply write:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">std::cout &lt;&lt; 42us &lt;&lt; std::endl;
std::cout &lt;&lt; 1ms &lt;&lt; std::endl;
std::cout &lt;&lt; 3s &lt;&lt; std::endl;</code></pre></div>
<p>which prints:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">42 usecs
1 msecs
3 secs</code></pre></div>
<h3 id="scheduling-delayed-reactions" style="position:relative;"><a href="#scheduling-delayed-reactions" aria-label="scheduling delayed reactions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scheduling Delayed Reactions</h3>
<p>The C++ provides a simple interface for scheduling actions via a <code class="language-text">schedule()</code> method. Actions are described in the <a href="language-specification#action-declaration">Language Specification</a> document. Consider the <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/Cpp/src/Schedule.lf">Schedule</a> reactor:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor Schedule {
	input x:int;
    logical action a;
    reaction(a) {=
         auto elapsed_time = get_elapsed_logical_time();
         std::cout &lt;&lt; "Action triggered at logical time " &lt;&lt; elapsed_time.count()
                  &lt;&lt; " after start" &lt;&lt; std::endl; elapsed_time);
    =}
    reaction(x) -> a {=
        a.schedule(200ms);
    =}
}</code></pre></div>
<p>When this reactor receives an input <code class="language-text">x</code>, it calls <code class="language-text">schedule()</code> on the action <code class="language-text">a</code>, specifying a logical time offset of 200 milliseconds. The action <code class="language-text">a</code> will be triggered at a logical time 200 milliseconds after the arrival of input <code class="language-text">x</code>. At that logical time, the second reaction will trigger and will use the <code class="language-text">get_elapsed_logical_time()</code> function to determine how much logical time has elapsed since the start of execution.</p>
<p>Notice that after the logical time offset of 200 msec, there may be another input <code class="language-text">x</code> simultaneous with the action <code class="language-text">a</code>. Because the reaction to <code class="language-text">a</code> is given first, it will execute first. This becomes important when such a reactor is put into a feedback loop (see below).</p>
<p><strong>TODO: Explain physical actions as well!</strong></p>
<h3 id="zero-delay-actions" style="position:relative;"><a href="#zero-delay-actions" aria-label="zero delay actions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Zero-Delay Actions</h3>
<p>If the specified delay in a <code class="language-text">schedule()</code> is omitted or is zero, then the action <code class="language-text">a</code> will be triggered one <strong>microstep</strong> later in <strong>superdense time</strong> (see <a href="language-specification#superdense-time">Superdense Time</a>). Hence, if the input <code class="language-text">x</code> arrives at metric logical time <em>t</em>, and you call <code class="language-text">schedule()</code> in one of the following ways:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">a.schedule();
a.schedule(0s);
a.schedule(reactor::Duration::zero());</code></pre></div>
<p>then when the reaction to <code class="language-text">a</code> is triggered, the input <code class="language-text">x</code> will be absent (it was present at the <em>previous</em> microstep). The reaction to <code class="language-text">x</code> and the reaction to <code class="language-text">a</code> occur at the same metric time <em>t</em>, but separated by one microstep, so these two reactions are <em>not</em> logically simultaneous.</p>
<p>As discussed above the he metric time is visible to the rogrammer and can be obtained in a reaction using either <code class="language-text">get_elapsed_logical_time()</code> or <code class="language-text">get_logical_time()</code>.</p>
<p>As described in the <a href="language-specification#action-declaration">Language Specification</a> document, action declarations can have a <em>min_delay</em> parameter. This modifies the timestamp further. Also, the action declaration may be <strong>physical</strong> rather than <strong>logical</strong>, in which case, the assigned timestamp will depend on the physical clock of the executing platform.</p>
<h2 id="actions-with-values" style="position:relative;"><a href="#actions-with-values" aria-label="actions with values permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Actions With Values</h2>
<p>If an action is declared with a data type, then it can carry a <strong>value</strong>, a data value that becomes available to any reaction triggered by the action.  This is particularly useful for physical actions that are externally triggered because it enables the action to convey information to the reactor. This could be, for example, the body of an incoming network message or a numerical reading from a sensor.</p>
<p>Recall from the <a href="language-specification#Contained-Reactors">Contained Reactors</a> section in the Language Specification document that the <strong>after</strong> keyword on a connection between ports introduces a logical delay. This is actually implemented using a logical action. We illustrate how this is done using the <a href="https://github.com/tud-ccc/reactor-cpp/blob/master/include/reactor-cpp/logical_time.hh">DelayInt</a> example:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor Delay(delay:time(100 msec)) {
    input in:int;
    output out:int;
    logical action d:int;
    reaction(in) -> d {=
        d.schedule(in.get(), delay);
    =}
    reaction(d) -> out {=
        if (d.is_present()) {
            out.set(d.get());
        }
    =}
}</code></pre></div>
<p>Using this reactor as follows</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">    d = new Delay();
    source.out -> d.in;
    d.in -> sink.out</code></pre></div>
<p>is equivalent to</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">    source.out -> sink.in after 100 msec</code></pre></div>
<p>(except that our <code class="language-text">Delay</code> reactor will only work with data type <code class="language-text">int</code>).</p>
<p>The action <code class="language-text">d</code> is specified with a type <code class="language-text">int</code>. The reaction to the input <code class="language-text">in</code> declares as its effect the action <code class="language-text">d</code>. This declaration makes it possible for the reaction to schedule a future triggering of <code class="language-text">d</code>. In the C++ target, actions use the same mechanism for passing data via value pointers as do ports. In the example above, the <code class="language-text">reactor::ImmutablValuePtr&lt;int></code> derived by the call to <code class="language-text">in.get()</code> is passed directly to <code class="language-text">schedule()</code>. Similarly, the value can later be retrieved from the action with <code class="language-text">d.get()</code> and passed to the output port.</p>
<p>The first reaction declares that it is triggered by <code class="language-text">d</code> and has effect <code class="language-text">out</code>. Because this reaction is first, the <code class="language-text">out</code> at any logical time can be produced before the input <code class="language-text">in</code> is even known to be present. Hence, this reactor can be used in a feedback loop, where <code class="language-text">out</code> triggers a downstream reactor to send a message back to <code class="language-text">in</code> of this same reactor. If the reactions were given in the opposite order, there would be causality loop and compilation would fail.</p>
<p>If you are not sure whether an action carries a value, you can test for it using <code class="language-text">is_present()</code>:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reaction(d) -> out {=
    if (d.is_present()) {
        out.set(d.get());
    }
=}</code></pre></div>
<p>It is possible to both be triggered by and schedule an action the same reaction. For example, this reactor will produce a counting sequence after it is triggered the first time:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor CountSelf(delay:time(100 msec)) {
    output out:int;
    logical action a:int;
    reaction(startup) -> a, out {=
        out.set(0);
        a.schedule_int(1, delay);
    =}
    reaction(a) -> a, out {=
        out.set(a.get());
        a.schedule_int(*a.get() + 1, delay);
    =}
}</code></pre></div>
<p>Of course, to produce a counting sequence, it would be more efficient to use a state variable.</p>
<h2 id="stopping-execution" style="position:relative;"><a href="#stopping-execution" aria-label="stopping execution permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stopping Execution</h2>
<p>A reaction may request that the execution stops after all events with the current timestamp have been processed by calling <code class="language-text">environment()->sync_shutdown()</code>. There is also a method <code class="language-text">environment()->async_shutdown()</code>
which may be invoked from outside an reaction, like an external thread.</p>
<h2 id="log-and-debug-information" style="position:relative;"><a href="#log-and-debug-information" aria-label="log and debug information permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Log and Debug Information</h2>
<p>The reactor-cpp library provides logging utilities in <a href="https://github.com/tud-ccc/reactor-cpp/blob/master/include/reactor-cpp/logging.hh">logging.hh</a> for producing messages to be made visible when the generated program is run. Of course <code class="language-text">std::cout</code> or <code class="language-text">printf</code> can be used for the same purpose, but the logging mechanism provided by reactor-cpp is thread-safe ensuring that messages produced in parallel reactions are not interleaved with each other and provides common way for turning messages of a certain severity on and off.</p>
<p>In particular, reactor-cpp provides the following logging interfaces:</p>
<ul>
<li><code class="language-text">reactor::Debug()</code>: for verbose debug messages</li>
<li><code class="language-text">reactor::Info()</code>: for info messages of general interest, info is the default severity level</li>
<li><code class="language-text">reactor::Warning()</code>: for warning messages</li>
<li><code class="language-text">reactor::Error()</code>: for errors</li>
</ul>
<p>These utilities can be used analogues to <code class="language-text">std::cout</code>. For instance:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">reactor::Info() &lt;&lt; "Hello World! It is " &lt;&lt; get_physical_time();</code></pre></div>
<p>Note that unlike <code class="language-text">std::cout</code> the new line delimiter is automatically added to the end of the message.</p>
<p>Which type of messages are actually produced by the compiled program can be controlled with the <code class="language-text">log-level</code> target property.</p></div></div><aside class="handbook-toc"><nav class=""><h5>On this page</h5><ul><li><a href="#setup">Setup</a></li><li><a href="#a-minimal-example">A Minimal Example</a></li><li><a href="#the-c-target-specification">The C++ Target Specification</a></li><li><a href="#command-line-arguments">Command-Line Arguments</a></li><li><a href="#imports">Imports</a></li><li><a href="#preamble">Preamble</a></li><li><a href="#reactions">Reactions</a></li><li><a href="#inputs-and-outputs">Inputs and Outputs</a></li><li><a href="#using-state-variables">Using State Variables</a></li><li><a href="#using-parameters">Using Parameters</a></li><li><a href="#using-methods">Using Methods</a></li><li><a href="#sending-and-receiving-large-data-types">Sending and Receiving Large Data Types</a></li><li><a href="#timed-behavior">Timed Behavior</a></li><li><a href="#scheduling-delayed-reactions">Scheduling Delayed Reactions</a></li><li><a href="#zero-delay-actions">Zero-Delay Actions</a></li><li><a href="#actions-with-values">Actions With Values</a></li><li><a href="#stopping-execution">Stopping Execution</a></li><li><a href="#log-and-debug-information">Log and Debug Information</a></li></ul><div id="like-dislike-subnav"><h5>Is this page helpful?</h5><div><button title="Like this page" id="like-button"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.052 2.29429C10.3913 1.31699 11.6841 0.866721 12.4829 1.70385C12.6455 1.87427 12.8081 2.05843 12.9176 2.22265C13.2379 2.70316 13.3725 3.33595 13.4218 3.95232C13.4721 4.58045 13.438 5.25457 13.3738 5.86484C13.3093 6.47746 13.2129 7.03959 13.1328 7.44777C13.1294 7.46547 13.1259 7.48288 13.1225 7.5H14.006C15.8777 7.5 17.2924 9.19514 16.9576 11.0367L16.2737 14.7984C15.8017 17.3943 13.2078 19.0291 10.6622 18.3348L5.06251 16.8076C4.14894 16.5585 3.45455 15.8145 3.26885 14.886L2.91581 13.1208C2.63809 11.7322 3.69991 10.5624 4.82905 10.1161C5.15163 9.98861 5.44337 9.82679 5.66974 9.62597C7.37583 8.11245 7.99442 6.90287 9.05406 4.77695C9.4084 4.06605 9.77205 3.10054 10.052 2.29429ZM12.0165 7.87862L12.0169 7.87707L12.0187 7.86973L12.0262 7.83863C12.0328 7.81079 12.0426 7.76903 12.0549 7.71494C12.0793 7.60669 12.1135 7.4493 12.1515 7.25536C12.2277 6.86666 12.3188 6.33504 12.3793 5.76016C12.4401 5.18293 12.4685 4.5758 12.425 4.03206C12.3806 3.47655 12.2652 3.04684 12.0855 2.77735C12.0264 2.6887 11.9138 2.55604 11.7594 2.39421C11.5605 2.18576 11.1314 2.23428 10.9967 2.62228C10.7141 3.43609 10.3334 4.45194 9.94904 5.22305C8.88216 7.36349 8.19326 8.72408 6.33336 10.374C5.99304 10.6759 5.58878 10.8911 5.19665 11.0461C4.31631 11.3941 3.75035 12.1945 3.89639 12.9247L4.24943 14.6899C4.36085 15.247 4.77748 15.6934 5.32562 15.8428L10.9254 17.3701C12.9052 17.91 14.9227 16.6385 15.2898 14.6195L15.9738 10.8578C16.197 9.63009 15.2538 8.5 14.006 8.5H12.5015C12.3476 8.5 12.2022 8.42906 12.1074 8.30771C12.0127 8.18638 11.9792 8.02796 12.0165 7.87862C12.0165 7.87858 12.0165 7.87866 12.0165 7.87862Z"></path></svg> <!-- -->Yes</button><button title="Dislike this page" id="dislike-button"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.052 17.7057C10.3913 18.683 11.6841 19.1333 12.4829 18.2962C12.6455 18.1257 12.8081 17.9416 12.9176 17.7773C13.2379 17.2968 13.3725 16.664 13.4218 16.0477C13.4721 15.4195 13.438 14.7454 13.3738 14.1352C13.3093 13.5225 13.2129 12.9604 13.1328 12.5522C13.1294 12.5345 13.1259 12.5171 13.1225 12.5H14.006C15.8777 12.5 17.2924 10.8049 16.9576 8.96334L16.2737 5.20164C15.8017 2.60569 13.2078 0.970948 10.6622 1.66518L5.06251 3.19238C4.14894 3.44154 3.45455 4.18546 3.26885 5.11401L2.91581 6.87918C2.63809 8.26779 3.69991 9.43756 4.82905 9.88388C5.15163 10.0114 5.44337 10.1732 5.66974 10.374C7.37583 11.8875 7.99442 13.0971 9.05406 15.223C9.4084 15.9339 9.77205 16.8995 10.052 17.7057ZM12.0165 12.1214L12.0169 12.1229L12.0187 12.1303L12.0262 12.1614C12.0328 12.1892 12.0426 12.231 12.0549 12.2851C12.0793 12.3933 12.1135 12.5507 12.1515 12.7446C12.2277 13.1333 12.3188 13.665 12.3793 14.2398C12.4401 14.8171 12.4685 15.4242 12.425 15.9679C12.3806 16.5234 12.2652 16.9532 12.0855 17.2226C12.0264 17.3113 11.9138 17.444 11.7594 17.6058C11.5605 17.8142 11.1314 17.7657 10.9967 17.3777C10.7141 16.5639 10.3334 15.5481 9.94904 14.777C8.88216 12.6365 8.19326 11.2759 6.33336 9.62597C5.99304 9.32406 5.58878 9.1089 5.19665 8.9539C4.31631 8.60592 3.75035 7.80549 3.89639 7.0753L4.24943 5.31012C4.36085 4.753 4.77748 4.30664 5.32562 4.15715L10.9254 2.62995C12.9052 2.08999 14.9227 3.36145 15.2898 5.38052L15.9738 9.14222C16.197 10.3699 15.2538 11.5 14.006 11.5H12.5015C12.3476 11.5 12.2022 11.5709 12.1074 11.6923C12.0127 11.8136 11.9792 11.972 12.0165 12.1214C12.0165 12.1214 12.0165 12.1213 12.0165 12.1214Z"></path></svg> <!-- -->No</button></div></div></nav></aside></article><div class="whitespace-tight raised"><div class="justify-between row"><a class="navigation-link" rel="prev" href="/docs/handbook/write-reactor-c"><div class="prev-next prev row"><div class="arrow"><svg width="11" height="14" viewBox="0 0 11 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 0V14L0 7.5L10.5 0Z" fill="#187ABF"></path></svg></div><div class="nav-content"><header>Previous</header><h3>Writing Reactors in C</h3><p>Writing Reactors in C.</p></div></div></a><div class="hide-small vertical-line"></div><a class="navigation-link" rel="prev" href="/docs/handbook/write-reactor-ts"><div class="prev-next next row"><div class="arrow"><svg width="11" height="14" viewBox="0 0 11 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 0V14L0 7.5L10.5 0Z" fill="#187ABF"></path></svg></div><div class="nav-content"><header>Next</header><h3>Writing Reactors in TypeScript</h3><p>Writing Reactors in TypeScript.</p></div></div></a></div></div><div class="whitespace-tight raised" style="padding:0"><div class="row justify-between small-columns"><div class="bottom-section-content"><p>Lingua Franca is an open source project. Help us improve these pages <a href="https://github.com/lf-lang/lf-lang.github.io/packages/documentation/copy/en/topics/Writing Reactors in C++.md">by sending a Pull Request</a> ❤</p></div><div class="hide-small vertical-line" style="margin-top:1.5rem"></div><div class="bottom-section-content">Contributors to this page:<br/><div><div class="circle-bg">CM<img id="17df3fce18f1feca53c4df716ef690ba" src="https://gravatar.com/avatar/17df3fce18f1feca53c4df716ef690ba?s=32&amp;&amp;d=blank" alt="Christian Menard  (45)"/></div><div class="circle-bg">EAL<img id="62d01fdbb6efd29b1150fa9893d08612" src="https://gravatar.com/avatar/62d01fdbb6efd29b1150fa9893d08612?s=32&amp;&amp;d=blank" alt="Edward A. Lee  (3)"/></div><div class="circle-bg">MB<img id="1b4c111c9480b5e1caa68e99a7257eee" src="https://gravatar.com/avatar/1b4c111c9480b5e1caa68e99a7257eee?s=32&amp;&amp;d=blank" alt="Maiko Brants  (2)"/></div><div class="circle-bg">AR<img id="897b0f955ed1b26fdf16cf3b689bb6b6" src="https://gravatar.com/avatar/897b0f955ed1b26fdf16cf3b689bb6b6?s=32&amp;&amp;d=blank" alt="Anirudh Rengarajan  (1)"/></div><div class="circle-bg">CF<img id="b317be5e0b4d03ac06cedaa4ba78009b" src="https://gravatar.com/avatar/b317be5e0b4d03ac06cedaa4ba78009b?s=32&amp;&amp;d=blank" alt="Clément Fournier  (1)"/></div><div class="circle-bg">FW<img id="4e9150f28a770bf6d3a5a801ad48b69d" src="https://gravatar.com/avatar/4e9150f28a770bf6d3a5a801ad48b69d?s=32&amp;&amp;d=blank" alt="Felix Wittwer  (1)"/></div></div></div><div class="hide-small vertical-line" style="margin-top:1.5rem"></div><div class="bottom-section-content"><p>Last updated: Feb 03, 2022<br/><br/><span id="page-loaded-time"> </span></p></div></div></div></div></section><div id="quickTipPopup" class="inline-popup popup-fade-in" style="opacity:0"><div class="inline-popup-container"><a class="inline-popup-extract"><div></div></a></div></div></main><footer id="site-footer" role="contentinfo"><section id="customize"><article><h3>Customize</h3><label><p>Site Colours<!-- -->:</p><div class="switch-wrap"><select name="colours"><option selected="" value="system">System</option><option value="force-light">Always Light</option><option value="force-dark">Always Dark</option></select></div></label><label><p>Code Font<!-- -->:</p><div class="switch-wrap"><select name="font"><option selected="" value="cascadia">Cascadia</option><option value="cascadia-ligatures">Cascadia (ligatures)</option><option value="consolas">Consolas</option><option value="dank-mono">Dank Mono</option><option value="fira-code">Fira Code</option><option value="jetbrains-mono">JetBrains Mono</option><option value="open-dyslexic">OpenDyslexic</option><option value="sf-mono">SF Mono</option><option value="source-code-pro">Source Code Pro</option></select></div></label></article></section><section id="community"><article id="logos"><a href=""><img id="lf-logo" width="195" height="75" src="/static/footer_logo-6712b352b6972d49da8ef6e29aefc4ae.svg" alt="Lingua Franca Logo"/></a><p>Made with ♥ in Berkeley, Dallas, Dresden, Kiel, and Seoul</p><p>© 2019-<!-- -->2022<!-- --> The Lingua Franca Team<br/></p></article><article id="using-lf"><h3>Using Lingua Franca</h3><ul><li><a href="/docs/handbook/overview">Get Started</a></li><li><a href="/download">Download</a></li><li><a href="/">Why Lingua Franca</a></li><li><a href="/publications-and-presentations">Publications</a></li></ul></article><article id="community-links"><h3>Community</h3><ul><li><a style="position:relative" href="/community">Get Help</a></li><li><a style="position:relative" href="https://github.com/lf-lang/lingua-franca"><span class="link-prefix"><svg fill="none" height="12" viewBox="0 0 12 12" width="12" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m6.03927.165405c-3.27055 0-5.922909 2.652005-5.922909 5.923645 0 2.61709 1.697089 4.83705 4.050909 5.62035.29636.0546.40436-.1284.40436-.2854 0-.1408-.00509-.5131-.008-1.0073-1.64763.3578-1.99527-.7942-1.99527-.7942-.26946-.68436-.65782-.86654-.65782-.86654-.53782-.36727.04073-.36001.04073-.36001.59454.04182.90727.61055.90727.61055.52836.90509 1.38655.64364 1.724.492.05382-.38254.20691-.64363.376-.79163-1.31527-.14946-2.69818-.65782-2.69818-2.92764 0-.64654.23091-1.17564.60982-1.58946-.06109-.14981-.26437-.75236.05818-1.56763 0 0 .49709-.15927 1.62872.60727.47237-.13163.97928-.19709 1.48291-.19964.50328.00255 1.00982.06801 1.48291.19964 1.13091-.76654 1.62727-.60727 1.62727-.60727.32328.81527.12001 1.41782.05928 1.56763.37964.41382.60873.94292.60873 1.58946 0 2.27564-1.38509 2.77636-2.70437 2.92291.21237.18291.40182.54436.40182 1.09672 0 .79204-.00727 1.43094-.00727 1.62514 0 .1585.10691.3429.40727.2851 2.35197-.7851 4.04767-3.00369 4.04767-5.62005 0-3.27164-2.6524-5.923645-5.92403-5.923645z" fill="#ffffff" fill-rule="evenodd"></path></svg></span>GitHub Repo</a></li><li><a style="position:relative" href="https://twitter.com/thelflang"><span class="link-prefix"><svg fill="none" height="10" viewBox="0 0 13 10" width="13" xmlns="http://www.w3.org/2000/svg"><path d="m4.58519 10c4.62962 0 7.16291-3.83919 7.16291-7.16289 0-.10801 0-.21602-.0049-.32403.4909-.35348.918-.80024 1.2568-1.30591-.4517.20128-.9377.33384-1.4483.39766.5204-.30929.9181-.805148 1.1095-1.394284-.486.289658-1.026.495856-1.6004.608773-.4615-.490946-1.11448-.7953322-1.83617-.7953322-1.38938 0-2.51856 1.1291732-2.51856 2.5185532 0 .19638.02455.38785.06383.57441-2.09143-.1031-3.94721-1.10954-5.1893-2.631474-.21602.373119-.33876.805154-.33876 1.266644 0 .87388.44677 1.64467 1.11936 2.09634-.41239-.01473-.80024-.12765-1.13899-.31421v.03437c0 1.21754.86897 2.23871 2.01778 2.46946-.2111.05891-.43203.08837-.66277.08837-.16202 0-.31912-.01473-.47131-.04419.31911 1.00153 1.25191 1.72813 2.35163 1.74777-.86406.67751-1.94906 1.08008-3.12733 1.08008-.20128 0-.402571-.00982-.59895-.03436 1.10954.70696 2.43509 1.12425 3.85393 1.12425z" fill="#ffffff"></path></svg></span>@thelflang</a></li><li><a style="position:relative" href="https://github.com/lf-lang/lf-lang.github.io"><span class="link-prefix"><svg fill="none" height="12" viewBox="0 0 12 12" width="12" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m6.03927.165405c-3.27055 0-5.922909 2.652005-5.922909 5.923645 0 2.61709 1.697089 4.83705 4.050909 5.62035.29636.0546.40436-.1284.40436-.2854 0-.1408-.00509-.5131-.008-1.0073-1.64763.3578-1.99527-.7942-1.99527-.7942-.26946-.68436-.65782-.86654-.65782-.86654-.53782-.36727.04073-.36001.04073-.36001.59454.04182.90727.61055.90727.61055.52836.90509 1.38655.64364 1.724.492.05382-.38254.20691-.64363.376-.79163-1.31527-.14946-2.69818-.65782-2.69818-2.92764 0-.64654.23091-1.17564.60982-1.58946-.06109-.14981-.26437-.75236.05818-1.56763 0 0 .49709-.15927 1.62872.60727.47237-.13163.97928-.19709 1.48291-.19964.50328.00255 1.00982.06801 1.48291.19964 1.13091-.76654 1.62727-.60727 1.62727-.60727.32328.81527.12001 1.41782.05928 1.56763.37964.41382.60873.94292.60873 1.58946 0 2.27564-1.38509 2.77636-2.70437 2.92291.21237.18291.40182.54436.40182 1.09672 0 .79204-.00727 1.43094-.00727 1.62514 0 .1585.10691.3429.40727.2851 2.35197-.7851 4.04767-3.00369 4.04767-5.62005 0-3.27164-2.6524-5.923645-5.92403-5.923645z" fill="#ffffff" fill-rule="evenodd"></path></svg></span>Web Repo</a></li></ul></article></section></footer><div class="page-popup" id="language-recommendation" style="display:none"><p id="language-recommendation-p">MSG</p><div><button class="first" id="language-recommendation-open"></button><button id="language-recommendation-no-more"></button></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/docs/handbook/write-reactor-c++";window.___webpackCompilationHash="596d648e615505a7cd2e";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-d48635783907973e51fd.js"],"app":["/app-fa04bc7c35331a030954.js"],"component---src-templates-documentation-tsx":["/component---src-templates-documentation-tsx-e7726ecb9ed67ba787f7.js"],"component---src-templates-pages-community-tsx":["/component---src-templates-pages-community-tsx-40bbaa7fcd6236105b6d.js"],"component---src-templates-pages-docs-handbook-index-tsx":["/component---src-templates-pages-docs-handbook-index-tsx-84bc9a8e6e990757433e.js"],"component---src-templates-pages-docs-index-tsx":["/component---src-templates-pages-docs-index-tsx-a6da30c6262576c3b566.js"],"component---src-templates-pages-download-tsx":["/component---src-templates-pages-download-tsx-73b41565be471a4c5679.js"],"component---src-templates-pages-empty-tsx":["/component---src-templates-pages-empty-tsx-98afb12f070b7b341108.js"],"component---src-templates-pages-index-tsx":["/component---src-templates-pages-index-tsx-ee5651f946d1765c3172.js"],"component---src-templates-pages-publications-and-presentations-tsx":["/component---src-templates-pages-publications-and-presentations-tsx-34229f43fe22d647b5bc.js"]};/*]]>*/</script><script src="/polyfill-d48635783907973e51fd.js" nomodule=""></script><script src="/component---src-templates-documentation-tsx-e7726ecb9ed67ba787f7.js" async=""></script><script src="/commons-a4135cdeaf352c10948e.js" async=""></script><script src="/app-fa04bc7c35331a030954.js" async=""></script><script src="/framework-7e2a5ddeff7e0b6680f7.js" async=""></script><script src="/webpack-runtime-814858ce1e34a3879a81.js" async=""></script></body></html>