{
    "componentChunkName": "component---src-templates-documentation-tsx",
    "path": "/docs/handbook/eclipse-oomph",
    "result": {"data":{"markdownRemark":{"id":"55a9dad8-8a9d-57cc-b487-8662bbec61f5","excerpt":"Prerequisites Java 11 or up (download from Oracle) Each target language may have additional requirements. The latest release will provide the best guide. Oomph…","html":"<h2 id=\"prerequisites\" style=\"position:relative;\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prerequisites</h2>\n<ul>\n<li>Java 11 or up (<a href=\"https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\">download from Oracle</a>)</li>\n<li>Each target language may have additional requirements. The <a href=\"Downloading-and-Building\">latest release</a> will provide the best guide.</li>\n</ul>\n<h2 id=\"oomph-setup\" style=\"position:relative;\"><a href=\"#oomph-setup\" aria-label=\"oomph setup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Oomph Setup</h2>\n<p>The Eclipse setup with Oomph allows to automatically create a fully configured Eclipse IDE for the development of Lingua Franca. Note that we recommend installing a new instance of Eclipse even if you already have one for other purposes. There is no problem having multiple Eclipse installations on the same machine, and separate installations help prevent cross-project problems.</p>\n<ol>\n<li>If you have previously installed Eclipse and you want to start fresh,  then remove or move a hidden directory called <code class=\"language-text\">.p2</code> in your home directory.  I do this:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mv ~/.p2 ~/.p2.bak</code></pre></div>\n<ol start=\"2\">\n<li>Go to the <a href=\"https://www.eclipse.org/downloads/index.php\">Eclipse download site</a> (<a href=\"https://www.eclipse.org/downloads/index.php\">https://www.eclipse.org/downloads/index.php</a>) and download the Eclipse Installer for your platform. The site does not advertise that it ships the Oomph Eclipse Installer but downloading Eclipse with the orange download button will give you the installer.\\</li>\n</ol>\n<p><strong>You can skip this step if you already have the installer available on your system.</strong></p>\n<ol start=\"3\">\n<li>Starting the installer for the first time will open a window that looks like the following (<strong>if you have previously followed these steps, skip to step 4</strong>):\\</li>\n</ol>\n<p><img src=\"../../../../../../img/oomph/simple_view.png\" alt=\"\"></p>\n<ol start=\"4\">\n<li>\n<p>Click the Hamburger button at the top right corner and switch to “Advanced Mode”.</p>\n</li>\n<li>\n<p>Oomph now wants you to select the base Eclipse distribution for your development. We recommend to use “Eclipse IDE for Java and DSL Developers”. As product version we recommend to use “Latest Release (…)“. Since 2020-09, Eclipse requires Java 11+ to run.\\</p>\n</li>\n</ol>\n<p><strong>IMPORTANT</strong>: Xtext, used by the Lingua Franca code generator, does not yet support Java 15 or higher. Please use Java 11 through 14.<br>\nThen press Next to continue with the project section.<br>\n<img src=\"../../../../../../img/oomph/product_selection.png\" alt=\"\"></p>\n<ol start=\"6\">\n<li>Next, we need to register the Lingua Franca specific setup in Oomph <strong>(only the first time you use the installer)</strong>. Click the green Plus button at the top right corner. Select “Github Projects” as catalog and paste the following URL into the “Resource URI” field:</li>\n</ol>\n<p><code class=\"language-text\">https://raw.githubusercontent.com/icyphy/lingua-franca/master/oomph/LinguaFranca.setup</code>.\nThen press OK.\nNOTE: to check out another branch instead, adjust the URL above accordingly. For instance, in order to install the setup from <code class=\"language-text\">foo-bar</code> branch, change the URL to <code class=\"language-text\">https://raw.githubusercontent.com/icyphy/lingua-franca/foo-bar/oomph/LinguaFranca.setup</code>. Also, in the subsequent screen in the wizard, select the particular branch of interest instead of default, which is <code class=\"language-text\">master</code>.</p>\n<ol start=\"7\">\n<li>Now Oomph lists the Lingua Franca setup in the ”<User>” directory of the “Github Projects” catalog. Check the Lingua Franca entry. A new entry for Lingua Franca will appear in the table at the bottom of the window. Select Lingua Franca and click Next.\\</li>\n</ol>\n<p><img src=\"../../../../../../img/oomph/project_selection.png\" alt=\"\"></p>\n<ol start=\"8\">\n<li>Now you can further configure where and how your development Eclipse should be created. Check “Show all variables” to enable all possible configuration options. You can hover over the field labels to get a more detailed explanation of their effects.</li>\n</ol>\n<ul>\n<li>If you already have cloned the LF repository and you want Eclipse to use this location instead of cloning it into the new IDE environment, you should adjust the “Git clone location rule”.</li>\n<li>Preferably, you have a Github account with an SSH key uploaded to Github. Otherwise, you should adjust the “Lingua Franca Github repository” entry to use the https option in the pulldown menu.  See <a href=\"https://docs.github.com/en/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account\">adding an SSH key to your Github account</a>.</li>\n<li>If the “JRE 11 location” is empty, you need to install and/or locate a JDK that has at least version 11.</li>\n</ul>\n<p><img src=\"../../../../../../img/oomph/project_configuration.png\" alt=\"\"></p>\n<ol start=\"9\">\n<li>\n<p>Click Next to get a summary of what will happen during installation. Click Finish to start.</p>\n</li>\n<li>\n<p>Once the basic installation is complete, your new Eclipse will start. If it fails to clone the Github repository, then you should use the back button in the Oomph dialog and change the way you are accessing the repo (ssh or https). See above. \\</p>\n</li>\n</ol>\n<p>The setup may also fail to clone the repository via SHH if Eclipse cannot find the private ssh key that matches the public key you uploaded to Github. You can configure the location of your private key in Eclipse as follows. In the Eclipse IDE, click the menu entry Window -> Preferences (on Mac Apple-Menu -> Preferences) and navigate to General -> Network Connections -> SSH2 in the tree view on the left and configure the SSH home directory and key names according to your computer. After the repo has been cloned, you can safely close the initial Oomph dialog (if not dismissed automatically). You will see a Welcome page that you can close.</p>\n<ol start=\"11\">\n<li>\n<p>In the new Eclipse, it may automatically start building the project, or it may pop up an “Eclipse Updater” dialog. If neither happens, you can click the button with the yellow and blue cycling arrows in the status bar at the bottom. Oomph will perform various operations to configure the Eclipse environment, including the initial code generation for the LF language. This may take some time. Wait until the setup is finished.</p>\n</li>\n<li>\n<p>If you get compile errors, make sure Eclipse is using Java 11. If you skipped the first step above (removing your <code class=\"language-text\">~/.p2</code> directory), then you may have legacy configuration information that causes Eclipse to mysteriously use an earlier version of Java. Lingua Franca requires Java 11 or higher, and will get compiler errors if it uses an earlier version. To fix this, go to the menu <code class=\"language-text\">Project->Properties</code> and select <code class=\"language-text\">Java Build Path</code>. Remove the entry for <code class=\"language-text\">JRE System Library [JRE for JavaSE-8]</code> (or similar). Choose <code class=\"language-text\">Add Library</code> on the right, and choose <code class=\"language-text\">JRE System Library</code>. You should now be able to choose <code class=\"language-text\">Workspace default JRE (JRE for JavaSE-11)</code>.  A resulting rebuild should then compile correctly.</p>\n</li>\n<li>\n<p>When the setup dialog is closed, your LF development IDE is ready. Probably, Eclipse is still compiling some code but when this is finished as well, all error markers on the project should have disappeared. Now, you can start a runtime Eclipse to test the actual Lingua Franca end-user IDE. In the toolbar, click on the small arrow next to the green Start button. There may already be an entry named “Launch Runtime Eclipse”, but probably not. To create it, click on “Run Configurations…“. Expand the “Eclipse Application” entry, select “Launch Runtime Eclipse”, as follows:</p>\n</li>\n</ol>\n<p><img src=\"../../../../../../img/oomph/run_configurations.png\" alt=\"\"></p>\n<p>Make sure that the Execution Environment shows a version of Java that is at least Java 11. The click on “Run” at the bottom.</p>\n<ol start=\"14\">\n<li>A new Eclipse starts where you can write LF programs and also get a diagram representation (but you fist need to open the diagram view by clicking on Window -> Show View -> Other and selecting Diagram in the “KIELER Lightweight Diagrams” folder). You  can close the welcome window in the new Eclipse and proceed to creating a new project, as below.</li>\n</ol>\n<h3 id=\"using-the-lingua-franca-ide\" style=\"position:relative;\"><a href=\"#using-the-lingua-franca-ide\" aria-label=\"using the lingua franca ide permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using the Lingua Franca IDE</h3>\n<p>Start the Lingua Franca IDE, create a project, and create your first LF program:</p>\n<ul>\n<li>Select File->New->Project  (a General Project is adequate).</li>\n<li>Give the project a name, like “test”.</li>\n<li>You may want to uncheck <code class=\"language-text\">Use default location</code> and specify a location that you can remember.</li>\n<li>Close the Eclipse welcome window, if it is open. It obscures the project.</li>\n<li>Right click on the project name and select New->File.</li>\n<li>Give the new a name like “HelloWorld.lf” (with .lf extension).</li>\n<li><strong>IMPORTANT:</strong> A dialog appears: Do you want to convert ‘test’ to an Xtext Project? Say YES.</li>\n<li>Start typing in Lingua-Franca! Try this:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  target C;\n  main reactor HelloWorld {\n      timer t;\n      reaction(t) {=\n          printf(\"Hello World.\\n\");\n      =}\n  }</code></pre></div>\n<p>When you save, generated code goes into your project directory, e.g. <code class=\"language-text\">/Users/yourname/test</code>.  That directory now has two directories inside it, <code class=\"language-text\">src-gen</code> and <code class=\"language-text\">bin</code>. The first contains the generated C code and the second contains the resulting executable program. Run the program:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    cd ~/lingua-franca-master/runtime-EclipseXtext/test\n    bin/HelloWorld</code></pre></div>\n<p>The above directory assumes you chose default locations for everything. This should produce output that looks something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">---- Start execution at time Sun Mar 28 10:19:24 2021\n---- plus 769212000 nanoseconds.\nHello World.\n---- Elapsed logical time (in nsec): 0\n---- Elapsed physical time (in nsec): 562,000</code></pre></div>\n<p>This should print “Hello World”.</p>\n<p>We strongly recommend browsing the system tests, which provide a concise overview of the capabilities of Lingua Franca. You can set up a project in the IDE for this using <a href=\"Regression-Tests#adding-and-editing-tests-in-eclipse\">these instructions</a>.</p>\n<h2 id=\"working-on-the-lingua-franca-compiler\" style=\"position:relative;\"><a href=\"#working-on-the-lingua-franca-compiler\" aria-label=\"working on the lingua franca compiler permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Working on the Lingua-Franca Compiler</h2>\n<p>The source code for the compiler is in the package <code class=\"language-text\">org.icyphy.linguafranca</code>.</p>\n<ul>\n<li>The grammar is in <code class=\"language-text\">src/org.icyphy/LinguaFranca.xtext</code></li>\n<li>The code generator for the C target is in <code class=\"language-text\">src/org.icyphy.generator/CGenerator.xtend</code></li>\n<li>The code generator for the TypeScript target is in <code class=\"language-text\">src/org.icyphy.generator/TypeScriptGenerator.xtend</code></li>\n<li>The code generator for the C++ target is in <code class=\"language-text\">src/org.icyphy.generator/CppGenerator.xtend</code></li>\n<li>The code generator for the Python target is in <code class=\"language-text\">src/org.icyphy.generator/PythonGenerator.xtend</code></li>\n</ul>\n<h2 id=\"troubleshooting\" style=\"position:relative;\"><a href=\"#troubleshooting\" aria-label=\"troubleshooting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Troubleshooting</h2>\n<ul>\n<li>\n<p>GitHub uses port <code class=\"language-text\">443</code> for its ssh connections. In some systems, the default expected port by <code class=\"language-text\">git</code> can be 22, causing a timeout when cloning the repo. This can be fixed by adding the following to <code class=\"language-text\">~/.ssh/config</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Host github.com\n Hostname ssh.github.com\n Port 443</code></pre></div>\n</li>\n</ul>","headings":[{"value":"Prerequisites","depth":2},{"value":"Oomph Setup","depth":2},{"value":"Using the Lingua Franca IDE","depth":3},{"value":"Working on the Lingua-Franca Compiler","depth":2},{"value":"Troubleshooting","depth":2}],"frontmatter":{"permalink":"/docs/handbook/eclipse-oomph","title":"Developer Eclipse setup with Oomph","oneline":"Developer Eclipse setup with Oomph.","preamble":""}},"prev":{"childMarkdownRemark":{"frontmatter":{"title":"Downloading and Building","oneline":"Downloading and Building Lingua Franca.","permalink":"/docs/handbook/download"}}},"next":{"childMarkdownRemark":{"frontmatter":{"title":"Developer IntelliJ Setup (for Kotlin)","oneline":"Developer IntelliJ Setup (for Kotlin).","permalink":"/docs/handbook/intellij-kotlin"}}}},"pageContext":{"id":"4-developer-eclipse-setup-with-oomph","slug":"/docs/handbook/eclipse-oomph","repoPath":"/packages/documentation/copy/en/developer/Developer Eclipse Setup with Oomph.md","previousID":"f4d10a74-ce52-5ff1-a8d3-093717f5eb56","nextID":"2c95dd57-3193-579b-9968-1a8e44b90737","lang":"en","modifiedTime":"2022-04-28T16:33:35.367Z"}},
    "staticQueryHashes": []}